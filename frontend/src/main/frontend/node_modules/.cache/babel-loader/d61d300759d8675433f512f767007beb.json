{"ast":null,"code":"import _objectSpread from\"/home/ductran/Desktop/CSC480-21F/frontend/src/main/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/ductran/Desktop/CSC480-21F/frontend/src/main/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{Link}from\"react-router-dom\";// @mui components\nimport{Grid,Card,CardHeader,CardContent,Container,Typography,Box,Stack,Radio,Breadcrumbs}from\"@mui/material\";// styled components\nimport NavBar from\"../../components/NavBar/NavBar\";import CustomizedButtons from\"../../components/CustomizedButtons\";import bg from\"../../images/multi_background_dashboard.jpg\";import TextField from\"@mui/material/TextField\";import CustomizedBody from\"../../components/CustomizedBody\";// Worker\nimport{Document,Page,pdfjs}from\"react-pdf\";import CustomizedContainer from\"../../components/CustomizedContainer\";import CustomizedTextField from\"../../components/CustomizedTextField\";import CustomizedCard from\"../../components/CustomizedCard\";import CustomizedPdfUploader from\"../../components/CustomizedPdfUploader\";import AdapterDateFns from\"@mui/lab/AdapterDateFns\";import LocalizationProvider from\"@mui/lab/LocalizationProvider\";import DateTimePicker from\"@mui/lab/DateTimePicker\";import{editAssignmentByProfessor,getSpecificAssignment}from\"../../axios/APIRequests\";import Loading from\"../../components/Loading\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";pdfjs.GlobalWorkerOptions.workerSrc=\"//cdnjs.cloudflare.com/ajax/libs/pdf.js/\".concat(pdfjs.version,\"/pdf.worker.js\");function AssignmentEdit(_ref){var history=_ref.history,location=_ref.location;var _React$useState=React.useState(true),_React$useState2=_slicedToArray(_React$useState,2),loading=_React$useState2[0],setLoading=_React$useState2[1];var _useState=useState(),_useState2=_slicedToArray(_useState,2),newAssignment=_useState2[0],setNewAssignment=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),assignment=_useState4[0],setAssignment=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),title=_useState6[0],setTitle=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),solutionPdfDoc=_useState8[0],setSolutionPdfDoc=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),peerReviewPdfDoc=_useState10[0],setPeerReviewPdfDoc=_useState10[1];var _useState11=useState(\"\"),_useState12=_slicedToArray(_useState11,2),solutionPdfFileName=_useState12[0],setSolutionPdfFileName=_useState12[1];var _useState13=useState(\"\"),_useState14=_slicedToArray(_useState13,2),peerReviewPdfFileName=_useState14[0],setPeerReviewPdfFileName=_useState14[1];var _useState15=useState(new Date()),_useState16=_slicedToArray(_useState15,2),solutionDueDate=_useState16[0],setSolutionDueDate=_useState16[1];var _useState17=useState(new Date()),_useState18=_slicedToArray(_useState17,2),prDueDate=_useState18[0],setPRDueDate=_useState18[1];useEffect(function(){if(assignment!==undefined&&assignment.length!==0){setTitle(assignment.title);setSolutionDueDate(new Date(assignment.solutionDueDateTime));setPRDueDate(new Date(assignment.peerReviewDueDateTime));setSolutionPdfFileName(assignment.solutionPdfFileName);setPeerReviewPdfFileName(assignment.peerReviewPdfFileName);setSolutionPdfDoc(assignment.solutionPdfDoc);setPeerReviewPdfDoc(assignment.peerReviewPdfDoc);setLoading(false);}},[assignment]);useEffect(function(){var assignmentID=location.state.assignmentID;getSpecificAssignment(assignmentID).then(function(value){console.log(value);setAssignment(value);}).catch(function(err){console.log(err);});},[]);console.log(newAssignment);useEffect(function(){var generateAssignment=function generateAssignment(){setNewAssignment(_objectSpread(_objectSpread({},assignment),{},{courseID:location.state.courseID,title:title,solutionPdfDoc:solutionPdfDoc,peerReviewPdfDoc:peerReviewPdfDoc,solutionPdfFileName:solutionPdfFileName,peerReviewPdfFileName:peerReviewPdfFileName,solutionDueDateTime:solutionDueDate.toJSON().split(\".\")[0],peerReviewDueDateTime:prDueDate.toJSON().split(\".\")[0]}));};generateAssignment();},[title,solutionPdfDoc,peerReviewPdfDoc,solutionDueDate,prDueDate]);var handleApplyChange=function handleApplyChange(){if(title===\"\"||solutionPdfDoc.length===0||peerReviewPdfDoc.length===0){console.log(\"Error\");}else{var json=JSON.stringify(newAssignment);console.log(json);editAssignmentByProfessor(newAssignment).then(function(response){history.push(\"/assignmentdisplay\",{assignmentID:assignment.assignmentID,courseID:location.state.courseID});}).catch(function(error){console.log(error);});}};return/*#__PURE__*/_jsxs(CustomizedBody,{bg:bg,children:[/*#__PURE__*/_jsx(NavBar,{fixed:true}),/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(CustomizedContainer,{children:[/*#__PURE__*/_jsxs(Breadcrumbs,{\"aria-label\":\"breadcrumb\",mb:5,ml:2,children:[/*#__PURE__*/_jsx(Typography,{color:\"text.primary\",children:\"Home\"}),/*#__PURE__*/_jsx(Typography,{color:\"text.primary\",children:\"Courses\"}),/*#__PURE__*/_jsx(Typography,{color:\"text.primary\",children:\"Course Name\"}),/*#__PURE__*/_jsx(Typography,{color:\"text.primary\",style:{fontWeight:\"600\"},children:\"New Assignment\"})]}),/*#__PURE__*/_jsx(_Fragment,{children:loading===true?/*#__PURE__*/_jsx(Loading,{}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Stack,{direction:\"row\",justifyContent:\"space-between\",alignItems:\"center\",children:[/*#__PURE__*/_jsx(Typography,{style:{fontWeight:\"600\"},variant:\"body1\",component:\"div\",children:\"Build New Assignment\"}),/*#__PURE__*/_jsx(CustomizedButtons,{onClick:handleApplyChange,type1:true,children:\"Apply Changes\"})]}),/*#__PURE__*/_jsx(CustomizedCard,{sx:{marginBottom:\"30px\",marginTop:\"30px\"},children:/*#__PURE__*/_jsx(CardContent,{children:/*#__PURE__*/_jsxs(Stack,{direction:\"column\",spacing:2,children:[/*#__PURE__*/_jsx(Typography,{style:{fontWeight:\"600\"},variant:\"body1\",component:\"div\",children:\"Title Assignment:\"}),/*#__PURE__*/_jsxs(Stack,{direction:\"row\",spacing:2,children:[/*#__PURE__*/_jsx(CustomizedTextField,{value:title,handleTextFieldChange:setTitle,children:\"Title\"}),/*#__PURE__*/_jsx(Typography,{style:{display:\"flex\",alignItems:\"center\",fontWeight:\"600\"},variant:\"body1\",component:\"div\",children:\"\\u2018Solution\\u2019 and \\u2018Peer Review\\u2019 will be added to title in their respective phases.\"})]})]})})}),/*#__PURE__*/_jsx(CustomizedCard,{sx:{marginBottom:\"30px\"},children:/*#__PURE__*/_jsx(CardContent,{children:/*#__PURE__*/_jsxs(Stack,{direction:\"column\",spacing:2,children:[/*#__PURE__*/_jsx(Typography,{style:{display:\"flex\",flexDirection:\"row\",fontWeight:\"600\"},variant:\"body1\",component:\"div\",children:\"Solution Assignment Content:\"}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",component:\"div\",children:\"Please set the due date and upload instruction PDFs to be displayed within solution assignment.\"}),/*#__PURE__*/_jsxs(Stack,{direction:\"row\",spacing:2,sx:{display:\"flex\",alignItems:\"center\"},children:[/*#__PURE__*/_jsx(LocalizationProvider,{dateAdapter:AdapterDateFns,children:/*#__PURE__*/_jsx(DateTimePicker,{renderInput:function renderInput(props){return/*#__PURE__*/_jsx(TextField,_objectSpread({},props));},label:\"Solution Due Date\",value:solutionDueDate,onChange:function onChange(newValue){setSolutionDueDate(newValue);}})}),/*#__PURE__*/_jsx(CustomizedPdfUploader,{id:\"solution\",pdfFileName:solutionPdfFileName,setPdfFileName:setSolutionPdfFileName,setPdfFile:setSolutionPdfDoc})]})]})})}),/*#__PURE__*/_jsx(CustomizedCard,{sx:{marginBottom:\"30px\"},children:/*#__PURE__*/_jsx(CardContent,{children:/*#__PURE__*/_jsxs(Stack,{direction:\"column\",spacing:2,children:[/*#__PURE__*/_jsx(Typography,{style:{display:\"flex\",flexDirection:\"row\",fontWeight:\"600\"},variant:\"body1\",component:\"div\",children:\"Peer Review Assignment Content:\"}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",component:\"div\",children:\"Please set the due date and upload instruction PDFs to be displayed within Peer Review Assignment. Please note that peer reviews must be manually sent for review by professors after quality checking.\"}),/*#__PURE__*/_jsxs(Stack,{direction:\"row\",spacing:2,sx:{display:\"flex\",alignItems:\"center\"},children:[/*#__PURE__*/_jsx(LocalizationProvider,{dateAdapter:AdapterDateFns,children:/*#__PURE__*/_jsx(DateTimePicker,{renderInput:function renderInput(props){return/*#__PURE__*/_jsx(TextField,_objectSpread({},props));},label:\"Peer Review Due Date\",value:prDueDate,onChange:function onChange(newValue){setPRDueDate(newValue);}})}),/*#__PURE__*/_jsx(CustomizedPdfUploader,{id:\"peerReview\",pdfFileName:peerReviewPdfFileName,setPdfFileName:setPeerReviewPdfFileName,setPdfFile:setPeerReviewPdfDoc})]})]})})})]})})]})})]});}export default AssignmentEdit;","map":{"version":3,"sources":["/home/ductran/Desktop/CSC480-21F/frontend/src/main/frontend/src/pages/Professor/AssignmentEdit.js"],"names":["React","useState","useEffect","Link","Grid","Card","CardHeader","CardContent","Container","Typography","Box","Stack","Radio","Breadcrumbs","NavBar","CustomizedButtons","bg","TextField","CustomizedBody","Document","Page","pdfjs","CustomizedContainer","CustomizedTextField","CustomizedCard","CustomizedPdfUploader","AdapterDateFns","LocalizationProvider","DateTimePicker","editAssignmentByProfessor","getSpecificAssignment","Loading","GlobalWorkerOptions","workerSrc","version","AssignmentEdit","history","location","loading","setLoading","newAssignment","setNewAssignment","assignment","setAssignment","title","setTitle","solutionPdfDoc","setSolutionPdfDoc","peerReviewPdfDoc","setPeerReviewPdfDoc","solutionPdfFileName","setSolutionPdfFileName","peerReviewPdfFileName","setPeerReviewPdfFileName","Date","solutionDueDate","setSolutionDueDate","prDueDate","setPRDueDate","undefined","length","solutionDueDateTime","peerReviewDueDateTime","assignmentID","state","then","value","console","log","catch","err","generateAssignment","courseID","toJSON","split","handleApplyChange","json","JSON","stringify","response","push","error","fontWeight","marginBottom","marginTop","display","alignItems","flexDirection","props","newValue"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\n// @mui components\nimport {\n  Grid,\n  Card,\n  CardHeader,\n  CardContent,\n  Container,\n  Typography,\n  Box,\n  Stack,\n  Radio,\n  Breadcrumbs,\n} from \"@mui/material\";\n// styled components\nimport NavBar from \"../../components/NavBar/NavBar\";\nimport CustomizedButtons from \"../../components/CustomizedButtons\";\nimport bg from \"../../images/multi_background_dashboard.jpg\";\nimport TextField from \"@mui/material/TextField\";\nimport CustomizedBody from \"../../components/CustomizedBody\";\n// Worker\nimport { Document, Page, pdfjs } from \"react-pdf\";\nimport CustomizedContainer from \"../../components/CustomizedContainer\";\nimport CustomizedTextField from \"../../components/CustomizedTextField\";\nimport CustomizedCard from \"../../components/CustomizedCard\";\nimport CustomizedPdfUploader from \"../../components/CustomizedPdfUploader\";\nimport AdapterDateFns from \"@mui/lab/AdapterDateFns\";\nimport LocalizationProvider from \"@mui/lab/LocalizationProvider\";\nimport DateTimePicker from \"@mui/lab/DateTimePicker\";\nimport {\n  editAssignmentByProfessor,\n  getSpecificAssignment,\n} from \"../../axios/APIRequests\";\nimport Loading from \"../../components/Loading\";\npdfjs.GlobalWorkerOptions.workerSrc = `//cdnjs.cloudflare.com/ajax/libs/pdf.js/${pdfjs.version}/pdf.worker.js`;\n\nfunction AssignmentEdit({ history, location }) {\n  const [loading, setLoading] = React.useState(true);\n  const [newAssignment, setNewAssignment] = useState();\n  const [assignment, setAssignment] = useState();\n  const [title, setTitle] = useState(\"\");\n  const [solutionPdfDoc, setSolutionPdfDoc] = useState([]);\n  const [peerReviewPdfDoc, setPeerReviewPdfDoc] = useState([]);\n  const [solutionPdfFileName, setSolutionPdfFileName] = useState(\"\");\n  const [peerReviewPdfFileName, setPeerReviewPdfFileName] = useState(\"\");\n  const [solutionDueDate, setSolutionDueDate] = useState(new Date());\n  const [prDueDate, setPRDueDate] = useState(new Date());\n  useEffect(() => {\n    if (assignment !== undefined && assignment.length !== 0) {\n      setTitle(assignment.title);\n      setSolutionDueDate(new Date(assignment.solutionDueDateTime));\n      setPRDueDate(new Date(assignment.peerReviewDueDateTime));\n      setSolutionPdfFileName(assignment.solutionPdfFileName);\n      setPeerReviewPdfFileName(assignment.peerReviewPdfFileName);\n      setSolutionPdfDoc(assignment.solutionPdfDoc);\n      setPeerReviewPdfDoc(assignment.peerReviewPdfDoc);\n      setLoading(false);\n    }\n  }, [assignment]);\n  useEffect(() => {\n    var assignmentID = location.state.assignmentID\n    getSpecificAssignment(assignmentID)\n    .then((value) => {\n      console.log(value);\n      setAssignment(value);\n    })\n    .catch((err) => {\n      console.log(err);\n    });\n  }, []);\n  console.log(newAssignment);\n  useEffect(() => {\n    const generateAssignment = () => {\n      setNewAssignment({\n        ...assignment,\n        courseID: location.state.courseID,\n        title: title,\n        solutionPdfDoc: solutionPdfDoc,\n        peerReviewPdfDoc: peerReviewPdfDoc,\n        solutionPdfFileName: solutionPdfFileName,\n        peerReviewPdfFileName: peerReviewPdfFileName,\n        solutionDueDateTime: solutionDueDate.toJSON().split(\".\")[0],\n        peerReviewDueDateTime: prDueDate.toJSON().split(\".\")[0],\n      });\n    };\n\n    generateAssignment();\n  }, [title, solutionPdfDoc, peerReviewPdfDoc, solutionDueDate, prDueDate]);\n\n  const handleApplyChange = () => {\n    if (\n      title === \"\" ||\n      solutionPdfDoc.length === 0 ||\n      peerReviewPdfDoc.length === 0\n    ) {\n      console.log(\"Error\");\n    } else {\n      const json = JSON.stringify(newAssignment);\n      console.log(json);\n      editAssignmentByProfessor(newAssignment)\n        .then(function (response) {\n          history.push(\"/assignmentdisplay\", {\n            assignmentID: assignment.assignmentID,\n            courseID: location.state.courseID,\n          });\n        })\n        .catch(function (error) {\n          console.log(error);\n        });\n    }\n  };\n\n  return (\n    <CustomizedBody bg={bg}>\n      <NavBar fixed></NavBar>\n      <>\n        <CustomizedContainer>\n          <Breadcrumbs aria-label=\"breadcrumb\" mb={5} ml={2}>\n            <Typography color=\"text.primary\">Home</Typography>\n            <Typography color=\"text.primary\">Courses</Typography>\n            <Typography color=\"text.primary\">Course Name</Typography>\n            <Typography color=\"text.primary\" style={{ fontWeight: \"600\" }}>\n              New Assignment\n            </Typography>\n          </Breadcrumbs>\n          <>\n          {loading === true ? (\n            <Loading />\n          ) : (\n            <>\n          <Stack direction=\"row\" justifyContent=\"space-between\" alignItems=\"center\">\n            <Typography\n              style={{ fontWeight: \"600\" }}\n              variant=\"body1\"\n              component=\"div\"\n            >\n              Build New Assignment\n            </Typography>\n\n            <CustomizedButtons onClick={handleApplyChange} type1>\n              Apply Changes\n            </CustomizedButtons>\n          </Stack>\n\n          {/* First Box */}\n          <CustomizedCard sx={{ marginBottom: \"30px\", marginTop: \"30px\" }}>\n            <CardContent>\n              <Stack direction=\"column\" spacing={2}>\n                <Typography\n                  style={{\n                    fontWeight: \"600\",\n                  }}\n                  variant=\"body1\"\n                  component=\"div\"\n                >\n                  Title Assignment:\n                </Typography>\n                <Stack direction=\"row\" spacing={2}>\n                  <CustomizedTextField\n                    value={title}\n                    handleTextFieldChange={setTitle}\n                  >\n                    Title\n                  </CustomizedTextField>\n                  <Typography\n                    style={{\n                      display: \"flex\",\n                      alignItems: \"center\",\n                      fontWeight: \"600\",\n                    }}\n                    variant=\"body1\"\n                    component=\"div\"\n                  >\n                    ‘Solution’ and ‘Peer Review’ will be added to title in their\n                    respective phases.\n                  </Typography>\n                </Stack>\n              </Stack>\n            </CardContent>\n          </CustomizedCard>\n\n          {/* second box */}\n          <CustomizedCard sx={{ marginBottom: \"30px\" }}>\n            <CardContent>\n              <Stack direction=\"column\" spacing={2}>\n                <Typography\n                  style={{\n                    display: \"flex\",\n                    flexDirection: \"row\",\n                    fontWeight: \"600\",\n                  }}\n                  variant=\"body1\"\n                  component=\"div\"\n                >\n                  Solution Assignment Content:\n                </Typography>\n                <Typography variant=\"body2\" component=\"div\">\n                  Please set the due date and upload instruction PDFs to be\n                  displayed within solution assignment.\n                </Typography>\n                <Stack\n                  direction=\"row\"\n                  spacing={2}\n                  sx={{ display: \"flex\", alignItems: \"center\" }}\n                >\n                  <LocalizationProvider dateAdapter={AdapterDateFns}>\n                    <DateTimePicker\n                      renderInput={(props) => <TextField {...props} />}\n                      label=\"Solution Due Date\"\n                      value={solutionDueDate}\n                      onChange={(newValue) => {\n                        setSolutionDueDate(newValue);\n                      }}\n                    />\n                  </LocalizationProvider>\n                  <CustomizedPdfUploader\n                    id=\"solution\"\n                    pdfFileName={solutionPdfFileName}\n                    setPdfFileName={setSolutionPdfFileName}\n                    setPdfFile={setSolutionPdfDoc}\n                  ></CustomizedPdfUploader>\n                </Stack>\n              </Stack>\n            </CardContent>\n          </CustomizedCard>\n\n          {/* third box */}\n          <CustomizedCard sx={{ marginBottom: \"30px\" }}>\n            <CardContent>\n              <Stack direction=\"column\" spacing={2}>\n                <Typography\n                  style={{\n                    display: \"flex\",\n                    flexDirection: \"row\",\n                    fontWeight: \"600\",\n                  }}\n                  variant=\"body1\"\n                  component=\"div\"\n                >\n                  Peer Review Assignment Content:\n                </Typography>\n                <Typography variant=\"body2\" component=\"div\">\n                  Please set the due date and upload instruction PDFs to be\n                  displayed within Peer Review Assignment. Please note that peer\n                  reviews must be manually sent for review by professors after\n                  quality checking.\n                </Typography>\n                <Stack\n                  direction=\"row\"\n                  spacing={2}\n                  sx={{ display: \"flex\", alignItems: \"center\" }}\n                >\n                  <LocalizationProvider dateAdapter={AdapterDateFns}>\n                    <DateTimePicker\n                      renderInput={(props) => <TextField {...props} />}\n                      label=\"Peer Review Due Date\"\n                      value={prDueDate}\n                      onChange={(newValue) => {\n                        setPRDueDate(newValue);\n                      }}\n                    />\n                  </LocalizationProvider>\n                  <CustomizedPdfUploader\n                    id=\"peerReview\"\n                    pdfFileName={peerReviewPdfFileName}\n                    setPdfFileName={setPeerReviewPdfFileName}\n                    setPdfFile={setPeerReviewPdfDoc}\n                  ></CustomizedPdfUploader>\n                </Stack>\n              </Stack>\n            </CardContent>\n          </CustomizedCard>\n          </>\n          )}\n        </>\n        </CustomizedContainer>\n      </>\n    </CustomizedBody>\n  );\n}\n\nexport default AssignmentEdit;\n"]},"metadata":{},"sourceType":"module"}