{"ast":null,"code":"import _slicedToArray from\"/home/ductran/guide-rest-client-reactjs/start/src/main/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _objectSpread from\"/home/ductran/guide-rest-client-reactjs/start/src/main/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _objectWithoutProperties from\"/home/ductran/guide-rest-client-reactjs/start/src/main/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";var _excluded=[\"children\",\"value\",\"index\"];import React,{useState,useEffect}from\"react\";// @mui components\nimport Typography from\"@mui/material/Typography\";//PDF\nimport{Document,Page,pdfjs}from\"react-pdf\";// styled components\nimport NavBar from\"../../components/NavBar/NavBar\";import CustomizedButtons from\"../../components/CustomizedButtons\";import bg from\"../../images/multi_background_dashboard.jpg\";import{CardContent,FormControl,Grid,InputLabel,List,MenuItem,Select,Stack,Tab,Tabs}from\"@mui/material\";import CustomizedCard from\"../../components/CustomizedCard\";import CustomizedContainer from\"../../components/CustomizedContainer\";import{Link}from\"react-router-dom\";import{useSelector,useDispatch}from\"react-redux\";import{selectUser}from\"../../features/userSlice\";import Loading from\"../../components/Loading\";import CustomizedPdfUploader from\"../../components/CustomizedPdfUploader\";import CustomizedBody from\"../../components/CustomizedBody\";import CustomizedTextField from\"../../components/CustomizedTextField\";import{handleConvertByteArrayToPdf}from\"../../utils/byteArrayToPDF\";import{Box}from\"@mui/system\";import{getSubmissionsToReviewByStudent,getTeamIdByStudentAndCourse,postNewPeerReviewByStudent,postNewSolutionByStudent}from\"../../axios/APIRequests\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function TabPanel(props){var children=props.children,value=props.value,index=props.index,other=_objectWithoutProperties(props,_excluded);return/*#__PURE__*/_jsx(\"div\",_objectSpread(_objectSpread({sx:{borderRadius:\"10px\"},role:\"tabpanel\",hidden:value!==index,id:\"simple-tabpanel-\".concat(index),\"aria-labelledby\":\"simple-tab-\".concat(index)},other),{},{children:value===index&&/*#__PURE__*/_jsx(Box,{children:children})}));}function PeerReviewAssignmentView(_ref){var history=_ref.history,location=_ref.location;var dispatch=useDispatch();var getUser=useSelector(selectUser);var user=getUser.user,isAuthenticated=getUser.isAuthenticated,authLoading=getUser.authLoading;var _useState=useState(1.0),_useState2=_slicedToArray(_useState,2),scale=_useState2[0],setScale=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),numPages=_useState4[0],setNumPages=_useState4[1];var _useState5=useState(1),_useState6=_slicedToArray(_useState5,2),pageNumber=_useState6[0],setPageNumber=_useState6[1];var _useState7=useState(true),_useState8=_slicedToArray(_useState7,2),loading=_useState8[0],setLoading=_useState8[1];var isFirstPage=pageNumber===1;var isLastPage=pageNumber===numPages;var _useState9=useState(0),_useState10=_slicedToArray(_useState9,2),tab=_useState10[0],setTab=_useState10[1];// ========= main variable =======\nvar _useState11=useState(),_useState12=_slicedToArray(_useState11,2),score=_useState12[0],setScore=_useState12[1];var _useState13=useState(),_useState14=_slicedToArray(_useState13,2),teamId=_useState14[0],setTeamId=_useState14[1];var _useState15=useState(),_useState16=_slicedToArray(_useState15,2),peerReviewInfo=_useState16[0],setPeerReviewInfo=_useState16[1];var _useState17=useState(),_useState18=_slicedToArray(_useState17,2),submissionPdfFile=_useState18[0],setSubmissionPdfFile=_useState18[1];var _useState19=useState(\"\"),_useState20=_slicedToArray(_useState19,2),submissionPdfFileName=_useState20[0],setSubmissionPdfFileName=_useState20[1];var _useState21=useState([]),_useState22=_slicedToArray(_useState21,2),submissionArray=_useState22[0],setSubmissionArray=_useState22[1];var _useState23=useState(),_useState24=_slicedToArray(_useState23,2),linkDownload=_useState24[0],setLinkDownload=_useState24[1];//this is peer review instuction pdf\nvar _useState25=useState(),_useState26=_slicedToArray(_useState25,2),submissionLinkDownload=_useState26[0],setSubmissionLinkDownload=_useState26[1];//this is solution submssion pdf\nvar ErrorMessage=\"Please fill out !!!\";var handleChange=function handleChange(event,newValue){setTab(newValue);};var handleChangeScore=function handleChangeScore(event){setScore(event.target.value);submissionArray[tab].score=event.target.value;};useEffect(function(){if(location.state.assignmentID==undefined)return;var assignmentID=location.state.assignmentID;getSubmissionsToReviewByStudent(assignmentID).then(function(value){console.log(value);if(value!==undefined){setPeerReviewInfo(value);var subArray=[];//initialize submission array\nvalue.teams.map(function(index){var sub={pdfDoc:[],fileName:\"\",score:0};subArray.push(sub);});setSubmissionArray(subArray);setLoading(false);getTeamIdByStudentAndCourse(value.courseID).then(function(value){setTeamId(value.teamID);}).catch(function(err){console.log(err);});if(value!==undefined){setLinkDownload(handleConvertByteArrayToPdf(value.peerReviewPdfDoc));}}}).catch(function(err){console.log(err);});},[]);console.log(submissionArray);useEffect(function(){if(peerReviewInfo!==undefined){setSubmissionLinkDownload(handleConvertByteArrayToPdf(peerReviewInfo.teams[tab].submission.pdfDoc));setScore(submissionArray[tab].score);setSubmissionPdfFileName(submissionArray[tab].fileName);}},[tab]);useEffect(function(){console.log(submissionArray);if(submissionArray.length===0)return;submissionArray[tab].pdfDoc=submissionPdfFile;submissionArray[tab].fileName=submissionPdfFileName;},[submissionPdfFile]);//======= handle send request to backend =====\nvar handleSubmitFile=function handleSubmitFile(event){var newSubArray=[];if(submissionPdfFile.length===0){alert(ErrorMessage);}else{submissionArray.map(function(submission,index){var newSubmission={teamID:teamId,assignmentID:peerReviewInfo.assignmentID,pdfDoc:submission.pdfDoc,score:submission.score,submissionID:peerReviewInfo.teams[index].submission.submissionID};newSubArray.push(newSubmission);});var json=JSON.stringify(newSubArray);console.log(newSubArray);postNewPeerReviewByStudent(newSubArray).then(function(response){console.log(response);history.push(\"/seeallassignment\");}).catch(function(error){console.log(error);});}};// for submit event\nfunction onDocumentLoadSuccess(_ref2){var numPages=_ref2.numPages;setNumPages(numPages);}var goToPreviousPage=function goToPreviousPage(){if(!isFirstPage)setPageNumber(pageNumber-1);};var goToNextPage=function goToNextPage(){if(!isLastPage)setPageNumber(pageNumber+1);};return/*#__PURE__*/_jsxs(CustomizedBody,{bg:bg,children:[/*#__PURE__*/_jsx(NavBar,{fixed:true,history:history}),loading===true?/*#__PURE__*/_jsx(Loading,{}):/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(CustomizedContainer,{children:[/*#__PURE__*/_jsx(Grid,{container:true,sx:{marginBottom:\"20px\",display:\"flex\",alignItems:\"center\"},spacing:9,children:/*#__PURE__*/_jsx(Grid,{item:true,xs:9,children:/*#__PURE__*/_jsx(Typography,{style:{display:\"flex\",textAlign:\"center\",fontWeight:\"600\"},variant:\"h6\",component:\"div\",children:\"\".concat(peerReviewInfo.title,\" Peer Review\")})})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(CustomizedCard,{style:{margin:\"20px 0\"},children:/*#__PURE__*/_jsx(CardContent,{children:/*#__PURE__*/_jsxs(Stack,{direction:\"row\",spacing:3,justifyContent:\"space-between\",alignItems:\"center\",children:[/*#__PURE__*/_jsxs(Stack,{direction:\"row\",spacing:1,children:[/*#__PURE__*/_jsx(Typography,{style:{display:\"flex\",textAlign:\"center\",fontWeight:\"600\"},variant:\"body1\",component:\"div\",children:\"Due Date:\"}),/*#__PURE__*/_jsx(Typography,{style:{display:\"flex\",textAlign:\"center\"},variant:\"body1\",component:\"div\",children:new Date(peerReviewInfo.peerReviewDueDateTime).toLocaleString()})]}),/*#__PURE__*/_jsx(CustomizedButtons,{type3:true,model:\"download\",href:linkDownload,download:\"PeerReviewInstructor.pdf\",title:\"download\",children:\"Download Instructions\"})]})})}),peerReviewInfo.teams.length!==0?/*#__PURE__*/_jsxs(Stack,{direction:\"row\",justifyContent:\"space-between\",style:{flex:\"1\"},children:[peerReviewInfo.teams.map(function(team,key){return/*#__PURE__*/_jsx(TabPanel,{value:tab,index:key,style:{flex:1},children:/*#__PURE__*/_jsx(CustomizedCard,{children:/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsxs(Stack,{direction:\"row\",justifyContent:\"space-between\",alignItems:\"center\",children:[/*#__PURE__*/_jsx(Stack,{direction:\"column\",spacing:1,children:/*#__PURE__*/_jsx(Typography,{style:{display:\"flex\",textAlign:\"center\",fontWeight:\"600\"},variant:\"body1\",component:\"div\",children:\"Submission \".concat(key+1)})}),/*#__PURE__*/_jsx(CustomizedButtons,{type2:true,model:\"download\",href:submissionLinkDownload,download:\"Solution.pdf\",children:\"Download Peer Review PDF\"})]}),team.submission.pdfDoc&&/*#__PURE__*/_jsxs(Stack,{direction:\"row\",justifyContent:\"center\",alignItems:\"center\",p:1,height:825,children:[/*#__PURE__*/_jsx(CustomizedButtons,{model:\"arrowL\",style:{color:\"black\",marginBottom:\"10px\"},onClick:goToPreviousPage}),/*#__PURE__*/_jsx(Document,{file:{data:team.submission.pdfDoc},onLoadSuccess:onDocumentLoadSuccess,children:/*#__PURE__*/_jsx(Page,{pageNumber:pageNumber,scale:scale})}),/*#__PURE__*/_jsx(CustomizedButtons,{model:\"arrow\",style:{color:\"black\",marginBottom:\"10px\"},onClick:goToNextPage})]}),/*#__PURE__*/_jsxs(Stack,{direction:\"column\",spacing:3,children:[/*#__PURE__*/_jsx(Typography,{style:{display:\"flex\",textAlign:\"center\",fontWeight:\"600\"},variant:\"body1\",component:\"div\",children:\"Score Submission:\"}),/*#__PURE__*/_jsxs(Stack,{direction:\"row\",spacing:3,alignItems:\"center\",children:[/*#__PURE__*/_jsxs(FormControl,{sx:{width:\"100px\"},children:[/*#__PURE__*/_jsx(InputLabel,{id:\"demo-simple-select-label\",children:\"Score\"}),/*#__PURE__*/_jsx(Select,{labelId:\"demo-simple-select-label\",id:\"demo-simple-select\",value:score,label:\"Score\",onChange:handleChangeScore,children:Array.from(Array(10).keys()).map(function(index,key){return/*#__PURE__*/_jsx(MenuItem,{value:index,children:index},key);})})]}),/*#__PURE__*/_jsx(CustomizedPdfUploader,{id:\"submission\",pdfFileName:submissionPdfFileName,setPdfFileName:setSubmissionPdfFileName,setPdfFile:setSubmissionPdfFile})]})]})]})})});}),/*#__PURE__*/_jsx(CustomizedCard,{sx:{display:\"flex\",flexDirection:\"column\",height:\"250px\",marginLeft:\"20px\",justifyContent:\"center\"},children:/*#__PURE__*/_jsx(Tabs,{value:tab,orientation:\"vertical\",onChange:handleChange,variant:\"scrollable\",scrollButtons:true,allowScrollButtonsMobile:true,children:peerReviewInfo.teams.map(function(team,key){return/*#__PURE__*/_jsx(Tab,{label:\"Submission \".concat(key+1)});})})})]}):/*#__PURE__*/_jsx(CustomizedCard,{style:{flex:\"1\"},children:/*#__PURE__*/_jsx(CardContent,{children:/*#__PURE__*/_jsx(Stack,{direction:\"row\",justifyContent:\"space-between\",children:\"There is no submission to review\"})})})]}),peerReviewInfo.teams.length!==0&&/*#__PURE__*/_jsxs(Stack,{direction:\"row\",justifyContent:\"flex-end\",alignItems:\"center\",spacing:2,mt:3,mr:20,children:[/*#__PURE__*/_jsx(CustomizedButtons,{type2:true,children:\"Cancel\"}),/*#__PURE__*/_jsx(CustomizedButtons,{type1:true,onClick:handleSubmitFile,children:\"Submit\"})]})]})})]});}export default PeerReviewAssignmentView;","map":{"version":3,"sources":["/home/ductran/guide-rest-client-reactjs/start/src/main/frontend/src/pages/Student/PeerReviewAssignmentView.js"],"names":["React","useState","useEffect","Typography","Document","Page","pdfjs","NavBar","CustomizedButtons","bg","CardContent","FormControl","Grid","InputLabel","List","MenuItem","Select","Stack","Tab","Tabs","CustomizedCard","CustomizedContainer","Link","useSelector","useDispatch","selectUser","Loading","CustomizedPdfUploader","CustomizedBody","CustomizedTextField","handleConvertByteArrayToPdf","Box","getSubmissionsToReviewByStudent","getTeamIdByStudentAndCourse","postNewPeerReviewByStudent","postNewSolutionByStudent","TabPanel","props","children","value","index","other","borderRadius","PeerReviewAssignmentView","history","location","dispatch","getUser","user","isAuthenticated","authLoading","scale","setScale","numPages","setNumPages","pageNumber","setPageNumber","loading","setLoading","isFirstPage","isLastPage","tab","setTab","score","setScore","teamId","setTeamId","peerReviewInfo","setPeerReviewInfo","submissionPdfFile","setSubmissionPdfFile","submissionPdfFileName","setSubmissionPdfFileName","submissionArray","setSubmissionArray","linkDownload","setLinkDownload","submissionLinkDownload","setSubmissionLinkDownload","ErrorMessage","handleChange","event","newValue","handleChangeScore","target","state","assignmentID","undefined","then","console","log","subArray","teams","map","sub","pdfDoc","fileName","push","courseID","teamID","catch","err","peerReviewPdfDoc","submission","length","handleSubmitFile","newSubArray","alert","newSubmission","submissionID","json","JSON","stringify","response","error","onDocumentLoadSuccess","goToPreviousPage","goToNextPage","marginBottom","display","alignItems","textAlign","fontWeight","title","margin","Date","peerReviewDueDateTime","toLocaleString","flex","team","key","color","data","width","Array","from","keys","flexDirection","height","marginLeft","justifyContent"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\n// @mui components\nimport Typography from \"@mui/material/Typography\";\n//PDF\nimport { Document, Page, pdfjs } from \"react-pdf\";\n\n// styled components\nimport NavBar from \"../../components/NavBar/NavBar\";\nimport CustomizedButtons from \"../../components/CustomizedButtons\";\n\nimport bg from \"../../images/multi_background_dashboard.jpg\";\nimport { CardContent, FormControl, Grid, InputLabel, List, MenuItem, Select, Stack, Tab, Tabs } from \"@mui/material\";\nimport CustomizedCard from \"../../components/CustomizedCard\";\nimport CustomizedContainer from \"../../components/CustomizedContainer\";\nimport { Link } from \"react-router-dom\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { selectUser } from \"../../features/userSlice\";\nimport Loading from \"../../components/Loading\";\nimport CustomizedPdfUploader from \"../../components/CustomizedPdfUploader\";\nimport CustomizedBody from \"../../components/CustomizedBody\";\nimport CustomizedTextField from \"../../components/CustomizedTextField\";\nimport { handleConvertByteArrayToPdf } from \"../../utils/byteArrayToPDF\";\nimport { Box } from \"@mui/system\";\nimport { getSubmissionsToReviewByStudent,getTeamIdByStudentAndCourse,postNewPeerReviewByStudent,postNewSolutionByStudent} from \"../../axios/APIRequests\";\n\nfunction TabPanel(props) {\n  const { children, value, index, ...other } = props;\n  return (\n    <div\n      sx={{ borderRadius: \"10px\" }}\n      role=\"tabpanel\"\n      hidden={value !== index}\n      id={`simple-tabpanel-${index}`}\n      aria-labelledby={`simple-tab-${index}`}\n      {...other}\n    >\n      {value === index && <Box>{children}</Box>}\n    </div>\n  );\n}\n\nfunction PeerReviewAssignmentView({ history, location }) {\n  const dispatch = useDispatch();\n  const getUser = useSelector(selectUser);\n  const { user, isAuthenticated, authLoading } = getUser;\n\n  const [scale, setScale] = useState(1.0);\n  const [numPages, setNumPages] = useState(null);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [loading, setLoading] = useState(true);\n  const isFirstPage = pageNumber === 1;\n  const isLastPage = pageNumber === numPages;\n  const [tab, setTab] = useState(0);\n  // ========= main variable =======\n  const [score, setScore] = useState();\n  const [teamId, setTeamId] = useState(); \n  const [peerReviewInfo, setPeerReviewInfo] = useState();\n  const [submissionPdfFile, setSubmissionPdfFile] = useState();\n  const [submissionPdfFileName, setSubmissionPdfFileName] = useState(\"\");\n  const [submissionArray, setSubmissionArray] = useState([]);\n  const [linkDownload, setLinkDownload] = useState(); //this is peer review instuction pdf\n  const [submissionLinkDownload, setSubmissionLinkDownload] = useState(); //this is solution submssion pdf\n  var ErrorMessage = \"Please fill out !!!\";\n  const handleChange = (event, newValue) => {\n    setTab(newValue);\n  };\n  const handleChangeScore = (event) => {\n    setScore(event.target.value);\n    submissionArray[tab].score = event.target.value;\n  };\n  useEffect(() => {\n    if (location.state.assignmentID == undefined) return;\n    var assignmentID = location.state.assignmentID;\n    getSubmissionsToReviewByStudent(assignmentID)\n      .then((value) => {\n        console.log(value)\n        if (value !== undefined) {\n          setPeerReviewInfo(value);\n          let subArray = [];\n        //initialize submission array\n        value.teams.map((index) => {\n          let sub = {\n            pdfDoc: [],\n            fileName: \"\",\n            score: 0,\n          };\n          subArray.push(sub);\n        });\n          setSubmissionArray(subArray);\n          setLoading(false);\n          getTeamIdByStudentAndCourse(value.courseID)\n          .then((value) => {\n            setTeamId(value.teamID);\n          })\n          .catch((err) => {\n            console.log(err);\n          });\n          \n          if (value !== undefined) {\n            setLinkDownload(handleConvertByteArrayToPdf(value.peerReviewPdfDoc));\n          }\n        } \n      })\n      .catch((err) => {\n        console.log(err);\n      });\n     \n  }, []);\n\n  console.log(submissionArray)\n  useEffect(() => {\n    if (peerReviewInfo !== undefined) {\n      setSubmissionLinkDownload(\n        handleConvertByteArrayToPdf(peerReviewInfo.teams[tab].submission.pdfDoc)\n      );\n      setScore(submissionArray[tab].score);\n      setSubmissionPdfFileName(submissionArray[tab].fileName)\n    }\n  }, [tab]);\n\n  useEffect(() => {\n    console.log(submissionArray);\n    if (submissionArray.length === 0) return;\n\n    submissionArray[tab].pdfDoc = submissionPdfFile;\n    submissionArray[tab].fileName = submissionPdfFileName\n  }, [submissionPdfFile]);\n  \n  //======= handle send request to backend =====\n  const handleSubmitFile = (event) => {\n    var newSubArray = []\n    if (submissionPdfFile.length === 0) {\n      alert(ErrorMessage);\n    } else {\n      submissionArray.map((submission,index) => {\n        var newSubmission = {\n          teamID: teamId,\n          assignmentID: peerReviewInfo.assignmentID,\n          pdfDoc: submission.pdfDoc,\n          score: submission.score,\n          submissionID: peerReviewInfo.teams[index].submission.submissionID,\n        };\n        newSubArray.push(newSubmission)\n      });\n      const json = JSON.stringify(newSubArray);\n      console.log(newSubArray);\n      postNewPeerReviewByStudent(newSubArray)\n        .then(function (response) {\n          console.log(response);\n           history.push(\"/seeallassignment\");\n        })\n        .catch(function (error) {\n          console.log(error);\n        });\n    }\n  };\n\n  // for submit event\n  function onDocumentLoadSuccess({ numPages }) {\n    setNumPages(numPages);\n  }\n  const goToPreviousPage = () => {\n    if (!isFirstPage) setPageNumber(pageNumber - 1);\n  };\n  const goToNextPage = () => {\n    if (!isLastPage) setPageNumber(pageNumber + 1);\n  };\n\n  return (\n    <CustomizedBody bg={bg}>\n      <NavBar fixed history={history}></NavBar>\n      {loading === true ? (\n        <Loading />\n      ) : (\n        <>\n          <CustomizedContainer>\n            <Grid\n              container\n              sx={{\n                marginBottom: \"20px\",\n                display: \"flex\",\n                alignItems: \"center\",\n              }}\n              spacing={9}\n            >\n              <Grid item xs={9}>\n                <Typography\n                  style={{\n                    display: \"flex\",\n                    textAlign: \"center\",\n                    fontWeight: \"600\",\n                  }}\n                  variant=\"h6\"\n                  component=\"div\"\n                >\n                  {`${peerReviewInfo.title} Peer Review`}\n                </Typography>\n              </Grid>\n            </Grid>\n            <div>\n              <CustomizedCard style={{ margin: \"20px 0\"  }}>\n                <CardContent>\n                  <Stack direction=\"row\" spacing={3} justifyContent=\"space-between\" alignItems=\"center\">\n                    <Stack direction=\"row\" spacing={1}>\n                      <Typography\n                        style={{\n                          display: \"flex\",\n                          textAlign: \"center\",\n                          fontWeight: \"600\",\n                        }}\n                        variant=\"body1\"\n                        component=\"div\"\n                      >\n                        Due Date:\n                      </Typography>\n                      <Typography\n                        style={{\n                          display: \"flex\",\n                          textAlign: \"center\",\n                        }}\n                        variant=\"body1\"\n                        component=\"div\"\n                      >\n                        {new Date(\n                          peerReviewInfo.peerReviewDueDateTime\n                        ).toLocaleString()}\n                      </Typography>\n                    </Stack>\n                    <CustomizedButtons\n                      type3\n                      model={\"download\"}\n                      href={linkDownload}\n                      download={\"PeerReviewInstructor.pdf\"}\n                      title=\"download\"\n                    >\n                      Download Instructions\n                    </CustomizedButtons>\n                  </Stack>\n                </CardContent>\n              </CustomizedCard>\n              {peerReviewInfo.teams.length !== 0 ? (\n\n                <Stack direction=\"row\" justifyContent=\"space-between\" style={{flex:\"1\"}}>\n                  {peerReviewInfo.teams.map((team, key) => {\n                    return (\n                      <TabPanel value={tab} index={key} style={{ flex:1}}>\n                        <CustomizedCard >\n                          <CardContent>\n                            <Stack direction=\"row\" justifyContent=\"space-between\" alignItems=\"center\"\n                            >\n                              <Stack direction=\"column\" spacing={1}>\n                                <Typography\n                                  style={{\n                                    display: \"flex\",\n                                    textAlign: \"center\",\n                                    fontWeight: \"600\",\n                                  }}\n                                  variant=\"body1\"\n                                  component=\"div\"\n                                >\n                                  {`Submission ${key + 1}`}\n                                </Typography>\n                              </Stack>\n                              <CustomizedButtons\n                                type2\n                                model={\"download\"}\n                                href={submissionLinkDownload}\n                                download={\"Solution.pdf\"}\n                              >\n                                Download Peer Review PDF\n                              </CustomizedButtons>\n                            </Stack>\n                            {team.submission.pdfDoc && (\n                              <Stack direction=\"row\" justifyContent=\"center\" alignItems=\"center\" p={1} height={825}\n                              >\n                                <CustomizedButtons\n                                  model={\"arrowL\"}\n                                  style={{ color: \"black\", marginBottom: \"10px\" }}\n                                  onClick={goToPreviousPage}\n                                ></CustomizedButtons>\n                                <Document\n                                  file={{ data: team.submission.pdfDoc }}\n                                  onLoadSuccess={onDocumentLoadSuccess}\n                                >\n                                  <Page pageNumber={pageNumber} scale={scale} />\n                                </Document>\n                                <CustomizedButtons\n                                  model={\"arrow\"}\n                                  style={{ color: \"black\", marginBottom: \"10px\" }}\n                                  onClick={goToNextPage}\n                                ></CustomizedButtons>\n                              </Stack>\n                            )}\n                            <Stack direction=\"column\" spacing={3}>\n                              <Typography\n                                style={{\n                                  display: \"flex\",\n                                  textAlign: \"center\",\n                                  fontWeight: \"600\",\n                                }}\n                                variant=\"body1\"\n                                component=\"div\"\n                              >\n                                Score Submission:\n                              </Typography>\n\n                              <Stack direction=\"row\" spacing={3} alignItems=\"center\">\n                                <FormControl sx={{width:\"100px\"}}>\n                                  <InputLabel id=\"demo-simple-select-label\">\n                                    Score\n                                  </InputLabel>\n                                  <Select\n                                    labelId=\"demo-simple-select-label\"\n                                    id=\"demo-simple-select\"\n                                    value={score}\n                                    label=\"Score\"\n                                    onChange={handleChangeScore}\n                                  >\n                                    {Array.from(Array(10).keys()).map((index, key)=>(\n                                      <MenuItem value={index} key={key}>{index}</MenuItem>\n                                    ))}\n                                  </Select>\n                                </FormControl>\n                                <CustomizedPdfUploader\n                                  id=\"submission\"\n                                  pdfFileName={submissionPdfFileName}\n                                  setPdfFileName={setSubmissionPdfFileName}\n                                  setPdfFile={setSubmissionPdfFile}\n                                ></CustomizedPdfUploader>\n                              </Stack>\n                            </Stack>\n                          </CardContent>\n                        </CustomizedCard>\n                      </TabPanel>\n                    );\n                  })}\n                  <CustomizedCard\n                    sx={{\n                      display: \"flex\",\n                      flexDirection: \"column\",\n                      height: \"250px\",\n                      marginLeft: \"20px\",\n                      justifyContent: \"center\",\n                    }}\n                  >\n                    <Tabs\n                      value={tab}\n                      orientation=\"vertical\"\n                      onChange={handleChange}\n                      variant=\"scrollable\"\n                      scrollButtons\n                      allowScrollButtonsMobile\n                    >\n                      {peerReviewInfo.teams.map((team, key) => (\n                        <Tab label={`Submission ${key + 1}`} />\n                      ))}\n                    </Tabs>\n                  </CustomizedCard>\n                </Stack>\n              ) : (\n                <CustomizedCard style={{flex:\"1\"}}>\n                  <CardContent>\n                    <Stack direction=\"row\" justifyContent=\"space-between\" >There is no submission to review</Stack>\n                  </CardContent>\n                </CustomizedCard>\n              )}\n            </div>\n            {peerReviewInfo.teams.length !== 0 && (\n              <Stack\n              direction=\"row\"\n              justifyContent=\"flex-end\"\n              alignItems=\"center\"\n              spacing={2}\n              mt={3}\n              mr={20}\n            >\n              <CustomizedButtons type2>Cancel</CustomizedButtons>\n              <CustomizedButtons type1 onClick={handleSubmitFile}>\n                Submit\n              </CustomizedButtons>\n            </Stack>\n            )}\n          </CustomizedContainer>\n        </>\n      )}\n    </CustomizedBody>\n  );\n}\n\nexport default PeerReviewAssignmentView;\n"]},"metadata":{},"sourceType":"module"}