{"ast":null,"code":"import _objectSpread from\"/media/ductran/New Volume/Files/builds/quiz-maker-master/Frontend/src/main/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _objectWithoutProperties from\"/media/ductran/New Volume/Files/builds/quiz-maker-master/Frontend/src/main/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";var _excluded=[\"component\",\"roleAccess\"];import{BrowserRouter as Router,Route,Redirect,Switch}from'react-router-dom';import{useSelector,useDispatch}from\"react-redux\";import{selectUser}from\"../features/userSlice\";import{jsx as _jsx}from\"react/jsx-runtime\";function PrivateRoute(_ref){var Component=_ref.component,roleAccess=_ref.roleAccess,children=_objectWithoutProperties(_ref,_excluded);var getUser=useSelector(selectUser);var user=getUser.user,isAuthenticated=getUser.isAuthenticated;console.log(isAuthenticated);if(isAuthenticated===true){if(roleAccess===user.role){return/*#__PURE__*/_jsx(Route,_objectSpread(_objectSpread({},children),{},{render:function render(props){return/*#__PURE__*/_jsx(Component,_objectSpread({},props));}}));}else{if(user.role===\"professor\"){return/*#__PURE__*/_jsx(Redirect,{to:\"professorhome\"});}else{return/*#__PURE__*/_jsx(Redirect,{to:\"studenthome\"});}}}return/*#__PURE__*/_jsx(Redirect,{to:\"login\"});}export default PrivateRoute;","map":{"version":3,"sources":["/media/ductran/New Volume/Files/builds/quiz-maker-master/Frontend/src/main/frontend/src/routing/PrivateRoute.js"],"names":["BrowserRouter","Router","Route","Redirect","Switch","useSelector","useDispatch","selectUser","PrivateRoute","Component","component","roleAccess","children","getUser","user","isAuthenticated","console","log","role","props"],"mappings":"gdAAA,OAASA,aAAa,GAAIC,CAAAA,MAA1B,CAAkCC,KAAlC,CAAwCC,QAAxC,CAAkDC,MAAlD,KAAgE,kBAAhE,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,OAASC,UAAT,KAA2B,uBAA3B,C,2CACA,QAASC,CAAAA,YAAT,MAAyE,IAAtCC,CAAAA,SAAsC,MAAjDC,SAAiD,CAA3BC,UAA2B,MAA3BA,UAA2B,CAAZC,QAAY,0CAEvE,GAAMC,CAAAA,OAAO,CAAGR,WAAW,CAACE,UAAD,CAA3B,CACA,GAAOO,CAAAA,IAAP,CAAgCD,OAAhC,CAAOC,IAAP,CAAaC,eAAb,CAAgCF,OAAhC,CAAaE,eAAb,CACAC,OAAO,CAACC,GAAR,CAAYF,eAAZ,EAEE,GAAIA,eAAe,GAAK,IAAxB,CAA8B,CAC5B,GAAGJ,UAAU,GAAKG,IAAI,CAACI,IAAvB,CAA4B,CAC1B,mBAAO,KAAC,KAAD,gCAAWN,QAAX,MAAqB,MAAM,CAAE,gBAAAO,KAAK,qBAAI,KAAC,SAAD,kBAAeA,KAAf,EAAJ,EAAlC,GAAP,CACD,CAFD,IAGI,CACF,GAAGL,IAAI,CAACI,IAAL,GAAc,WAAjB,CAA6B,CAC3B,mBAAO,KAAC,QAAD,EAAU,EAAE,CAAC,eAAb,EAAP,CACD,CAFD,IAGI,CACF,mBAAO,KAAC,QAAD,EAAU,EAAE,CAAC,aAAb,EAAP,CACD,CACF,CAEF,CAED,mBAAO,KAAC,QAAD,EAAU,EAAE,CAAC,OAAb,EAAP,CACD,CAEH,cAAeV,CAAAA,YAAf","sourcesContent":["import { BrowserRouter as Router, Route,Redirect, Switch } from 'react-router-dom'\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { selectUser } from \"../features/userSlice\";\nfunction PrivateRoute({ component: Component, roleAccess, ...children }) {\n\n  const getUser = useSelector(selectUser)\n  const {user, isAuthenticated} = getUser\n  console.log(isAuthenticated)\n\n    if (isAuthenticated === true) {\n      if(roleAccess === user.role){\n        return <Route {...children} render={props => <Component {...props} />} />;\n      }\n      else{\n        if(user.role === \"professor\"){\n          return <Redirect to=\"professorhome\" />;\n        }\n        else{\n          return <Redirect to=\"studenthome\" />;\n        }\n      }\n      \n    }\n\n    return <Redirect to=\"login\" />;\n  }\n  \nexport default PrivateRoute;"]},"metadata":{},"sourceType":"module"}