{"ast":null,"code":"import React,{useState}from\"react\";// @mui components\nimport FormControl from\"@mui/material/FormControl\";import InputLabel from\"@mui/material/InputLabel\";import OutlinedInput from\"@mui/material/OutlinedInput\";import Card from\"@mui/material/Card\";import CardHeader from\"@mui/material/CardHeader\";import CardActions from\"@mui/material/CardActions\";import CardContent from\"@mui/material/CardContent\";import Typography from\"@mui/material/Typography\";import Box from\"@mui/material/Box\";import GoogleLogin from\"react-google-login\";import axios from\"axios\";import bg from\"../../images/multi_background_login.jpg\";import{useDispatch}from\"react-redux\";import{setUser,setUserName}from\"../../features/userSlice\";// styled components\nimport NavBarLogin from\"../../components/NavBar/NavBarLogin\";import{Stack}from\"@mui/material\";import CustomizedCard from\"../../components/CustomizedCard\";import CustomizedBody from\"../../components/CustomizedBody\";import{loginAuth,testingHttps}from\"../../axios/APIRequests\";import CustomizedButtons from\"../../components/CustomizedButtons\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CLIENT_ID=\"637717333332-2fauonnc42evp1f3qfi7e4br0okm5cu8.apps.googleusercontent.com\";function LoginPage(_ref){var history=_ref.history;var dispatch=useDispatch();var responseGoogle=function responseGoogle(response){if(response.profileObj===undefined||response.tokenId===undefined)return;dispatch(setUserName(response.profileObj.name));signIn(response.tokenId);};var test=function test(){testingHttps().then(function(res){console.log(axios);console.log(res);}).catch(function(e){console.error(e);});};var signIn=function signIn(tokenId){// setAuthToken()\nloginAuth(tokenId).then(function(response){dispatch(setUser(response));localStorage.token=response.token;localStorage.userID=response.userID;if(response.role===\"professor\"){history.push(\"./professorhome\");}else{history.push(\"./studenthome\");}}).catch(function(error){console.log(error);});};return/*#__PURE__*/_jsxs(CustomizedBody,{bg:bg,children:[/*#__PURE__*/_jsx(NavBarLogin,{}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",justifyContent:\"space-around\",flexDirection:\"row\",margin:\"1em 12em\"},children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",flexDirection:\"column\",justifyContent:\"center\",alignItems:\"start\",width:\"496px\"},children:[/*#__PURE__*/_jsx(Typography,{style:{fontWeight:\"600\"},variant:\"h4\",component:\"div\",children:\"A proven system to improve student grade outcomes.\"}),/*#__PURE__*/_jsx(Typography,{variant:\"h6\",component:\"div\",children:\"Distribute assignments and collect peer reviews with accuracy and efficiency while utilizing this effective learning method.\"})]}),/*#__PURE__*/_jsxs(CustomizedCard,{style:{display:\"flex\",flexDirection:\"column\",margin:\"3em 1em\",width:\"422px\",height:\"auto\",padding:\"0.5em\"},children:[/*#__PURE__*/_jsx(CardHeader,{sx:{paddingBottom:\"0\"},title:/*#__PURE__*/_jsx(Typography,{style:{fontWeight:\"600\"},variant:\"h5\",component:\"div\",children:\"Google Login\"})}),/*#__PURE__*/_jsx(CardContent,{children:/*#__PURE__*/_jsx(Typography,{style:{fontWeight:\"400\"},variant:\"h6\",component:\"div\",children:\"Select your role to begin\"})}),/*#__PURE__*/_jsx(CardContent,{style:{display:\"flex\",flexDirection:\"column\",justifyContent:\"center\"},children:/*#__PURE__*/_jsxs(Stack,{spacing:2,children:[/*#__PURE__*/_jsx(CustomizedButtons,{onClick:test}),/*#__PURE__*/_jsx(GoogleLogin,{clientId:CLIENT_ID,buttonText:\"Professor\",onSuccess:responseGoogle,onFailure:responseGoogle,cookiePolicy:\"single_host_origin\"}),/*#__PURE__*/_jsx(GoogleLogin,{clientId:CLIENT_ID,buttonText:\"Student\",onSuccess:responseGoogle,onFailure:responseGoogle,cookiePolicy:\"single_host_origin\"})]})})]})]})]});}export default LoginPage;","map":{"version":3,"sources":["/home/ductran/guide-rest-client-reactjs/start/src/main/frontend/src/pages/Login/LoginPage.js"],"names":["React","useState","FormControl","InputLabel","OutlinedInput","Card","CardHeader","CardActions","CardContent","Typography","Box","GoogleLogin","axios","bg","useDispatch","setUser","setUserName","NavBarLogin","Stack","CustomizedCard","CustomizedBody","loginAuth","testingHttps","CustomizedButtons","CLIENT_ID","LoginPage","history","dispatch","responseGoogle","response","profileObj","undefined","tokenId","name","signIn","test","then","res","console","log","catch","e","error","localStorage","token","userID","role","push","display","justifyContent","flexDirection","margin","alignItems","width","fontWeight","height","padding","paddingBottom"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\n// @mui components\nimport FormControl from \"@mui/material/FormControl\";\nimport InputLabel from \"@mui/material/InputLabel\";\nimport OutlinedInput from \"@mui/material/OutlinedInput\";\nimport Card from \"@mui/material/Card\";\nimport CardHeader from \"@mui/material/CardHeader\";\nimport CardActions from \"@mui/material/CardActions\";\nimport CardContent from \"@mui/material/CardContent\";\nimport Typography from \"@mui/material/Typography\";\nimport Box from \"@mui/material/Box\";\nimport GoogleLogin from \"react-google-login\";\nimport axios from \"axios\";\nimport bg from \"../../images/multi_background_login.jpg\";\nimport { useDispatch } from \"react-redux\";\nimport { setUser, setUserName } from \"../../features/userSlice\";\n// styled components\nimport NavBarLogin from \"../../components/NavBar/NavBarLogin\";\nimport { Stack } from \"@mui/material\";\nimport CustomizedCard from \"../../components/CustomizedCard\";\nimport CustomizedBody from \"../../components/CustomizedBody\";\nimport { loginAuth, testingHttps } from \"../../axios/APIRequests\";\nimport CustomizedButtons from \"../../components/CustomizedButtons\";\n\nconst CLIENT_ID = \"637717333332-2fauonnc42evp1f3qfi7e4br0okm5cu8.apps.googleusercontent.com\"\n\nfunction LoginPage({ history }) {\n  const dispatch = useDispatch();\n  const responseGoogle = (response) => {\n    if(response.profileObj === undefined || response.tokenId === undefined) return\n    dispatch(setUserName(response.profileObj.name));\n    signIn(response.tokenId)\n  };\n\n  const test = () => {\n    testingHttps().then((res)=>{\n      console.log(axios)\n      console.log(res)\n    }).catch((e) => {\n      console.error(e)\n    })\n  }\n\n  const signIn = (tokenId) => {\n    // setAuthToken()\n    \n    \n    loginAuth(tokenId)\n      .then(function (response) {\n        dispatch(setUser(response));\n        localStorage.token = response.token;\n        localStorage.userID = response.userID;\n        if(response.role === \"professor\") {\n          history.push(\"./professorhome\");\n        } else {\n          history.push(\"./studenthome\");\n        }\n      })\n      .catch(function (error) {\n        console.log(error);\n      });\n  };\n  return (\n    <CustomizedBody bg={bg}>\n      <NavBarLogin></NavBarLogin>\n      <div\n        style={{\n          display: \"flex\",\n          justifyContent: \"space-around\",\n          flexDirection: \"row\",\n          margin: \"1em 12em\",\n        }}\n      >\n        <div\n          style={{\n            display: \"flex\",\n            flexDirection: \"column\",\n            justifyContent: \"center\",\n            alignItems: \"start\",\n            width: \"496px\",\n          }}\n        >\n          <Typography\n            style={{ fontWeight: \"600\" }}\n            variant=\"h4\"\n            component=\"div\"\n          >\n            A proven system to improve student grade outcomes.\n          </Typography>\n          <Typography variant=\"h6\" component=\"div\">\n            Distribute assignments and collect peer reviews with accuracy and\n            efficiency while utilizing this effective learning method.\n          </Typography>\n        </div>\n        <CustomizedCard\n          style={{\n            display: \"flex\",\n            flexDirection: \"column\",\n            margin: \"3em 1em\",\n            width: \"422px\",\n            height: \"auto\",\n            padding: \"0.5em\",\n          }}\n        >\n          <CardHeader\n            sx={{ paddingBottom: \"0\" }}\n            title={\n              <Typography\n                style={{ fontWeight: \"600\" }}\n                variant=\"h5\"\n                component=\"div\"\n              >\n                Google Login\n              </Typography>\n            }\n          ></CardHeader>\n          <CardContent>\n            <Typography\n              style={{ fontWeight: \"400\" }}\n              variant=\"h6\"\n              component=\"div\"\n            >\n              Select your role to begin\n            </Typography>\n          </CardContent>\n          <CardContent\n            style={{\n              display: \"flex\",\n              flexDirection: \"column\",\n              justifyContent: \"center\",\n            }}\n          >\n            <Stack spacing={2}>\n\n              <CustomizedButtons onClick={test}>\n\n              </CustomizedButtons>\n              <GoogleLogin\n                clientId={CLIENT_ID}\n                buttonText=\"Professor\"\n                onSuccess={responseGoogle}\n                onFailure={responseGoogle}\n                cookiePolicy={\"single_host_origin\"}\n              />\n              <GoogleLogin\n                clientId={CLIENT_ID}\n                buttonText=\"Student\"\n                onSuccess={responseGoogle}\n                onFailure={responseGoogle}\n                cookiePolicy={\"single_host_origin\"}\n              />\n            </Stack>\n          </CardContent>\n        </CustomizedCard>\n      </div>\n    </CustomizedBody>\n  );\n}\n\nexport default LoginPage;\n"]},"metadata":{},"sourceType":"module"}