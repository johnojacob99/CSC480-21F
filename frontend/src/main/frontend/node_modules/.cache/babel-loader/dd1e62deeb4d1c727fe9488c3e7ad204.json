{"ast":null,"code":"import _slicedToArray from\"/home/ductran/Desktop/CSC480-21F/frontend/src/main/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";// @mui components\nimport Typography from\"@mui/material/Typography\";//PDF\nimport{Document,Page,pdfjs}from\"react-pdf\";// styled components\nimport NavBar from\"../../components/NavBar/NavBar\";import CustomizedButtons from\"../../components/CustomizedButtons\";import bg from\"../../images/multi_background_dashboard.jpg\";import{CardContent,Grid,List,Stack}from\"@mui/material\";import CustomizedCard from\"../../components/CustomizedCard\";import CustomizedContainer from\"../../components/CustomizedContainer\";import{Link}from\"react-router-dom\";import{useSelector,useDispatch}from\"react-redux\";import{selectUser}from\"../../features/userSlice\";import Loading from\"../../components/Loading\";import CustomizedPdfUploader from\"../../components/CustomizedPdfUploader\";import CustomizedBody from\"../../components/CustomizedBody\";import CustomizedTextField from\"../../components/CustomizedTextField\";import{getTeamIdByStudentAndCourse,postNewSolutionByStudent}from\"../../axios/APIRequests\";import{handleConvertByteArrayToPdf}from\"../../utils/byteArrayToPDF\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function NewSolutionAssignmentView(_ref){var history=_ref.history,location=_ref.location;var dispatch=useDispatch();var getUser=useSelector(selectUser);var user=getUser.user,isAuthenticated=getUser.isAuthenticated,authLoading=getUser.authLoading;var _useState=useState(1.0),_useState2=_slicedToArray(_useState,2),scale=_useState2[0],setScale=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),numPages=_useState4[0],setNumPages=_useState4[1];var _useState5=useState(1),_useState6=_slicedToArray(_useState5,2),pageNumber=_useState6[0],setPageNumber=_useState6[1];var _useState7=useState(true),_useState8=_slicedToArray(_useState7,2),loading=_useState8[0],setLoading=_useState8[1];var isFirstPage=pageNumber===1;var isLastPage=pageNumber===numPages;// ========= main variable =======\nvar _useState9=useState(),_useState10=_slicedToArray(_useState9,2),assignment=_useState10[0],setAssignment=_useState10[1];var _useState11=useState(),_useState12=_slicedToArray(_useState11,2),submissionPdfFile=_useState12[0],setSubmissionPdfFile=_useState12[1];var _useState13=useState(),_useState14=_slicedToArray(_useState13,2),linkDownload=_useState14[0],setLinkDownload=_useState14[1];var _useState15=useState(),_useState16=_slicedToArray(_useState15,2),teamId=_useState16[0],setTeamId=_useState16[1];var ErrorMessage=\"Please upload your pdf file before submitting !!!\";useEffect(function(){if(assignment!==undefined){// =========== Handle PDF Download From Byte Array ==================\nsetLinkDownload(handleConvertByteArrayToPdf(assignment.solutionPdfDoc));getTeamIdByStudentAndCourse(assignment.courseID).then(function(value){setTeamId(value.teamID);setLoading(false);}).catch(function(err){console.log(err);});}},[assignment]);useEffect(function(){setAssignment(location.state.assignment);},[]);//======= handle send request to backend =====\nvar handleSubmitFile=function handleSubmitFile(event){//TODO add function to send request to backend\nif(submissionPdfFile.length===0){alert(ErrorMessage);}else{var newSubmission={teamID:teamId,pdfDoc:submissionPdfFile,seen:false,assignmentID:assignment.assignmentID};var json=JSON.stringify(newSubmission);console.log(newSubmission);postNewSolutionByStudent(newSubmission).then(function(response){console.log(response);history.push(\"/seeallassignment\");}).catch(function(error){console.log(error);});}};// for submit event\nfunction onDocumentLoadSuccess(_ref2){var numPages=_ref2.numPages;setNumPages(numPages);}var goToPreviousPage=function goToPreviousPage(){if(!isFirstPage)setPageNumber(pageNumber-1);};var goToNextPage=function goToNextPage(){if(!isLastPage)setPageNumber(pageNumber+1);};return/*#__PURE__*/_jsxs(CustomizedBody,{bg:bg,children:[/*#__PURE__*/_jsx(NavBar,{fixed:true,history:history}),loading===true?/*#__PURE__*/_jsx(Loading,{}):/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(CustomizedContainer,{children:[/*#__PURE__*/_jsx(Grid,{container:true,sx:{marginBottom:\"20px\",display:\"flex\",alignItems:\"center\"},spacing:9,children:/*#__PURE__*/_jsx(Grid,{item:true,xs:9,children:/*#__PURE__*/_jsx(Typography,{style:{display:\"flex\",textAlign:\"center\",fontWeight:\"600\"},variant:\"h6\",component:\"div\",children:\"\".concat(assignment.title,\" Solution\")})})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(CustomizedCard,{style:{marginTop:\"20px\"},children:/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",marginBottom:\"20px\",flexDirection:\"row\",justifyContent:\"space-between\"},children:[/*#__PURE__*/_jsxs(Stack,{direction:\"row\",spacing:1,alignItems:\"center\",children:[/*#__PURE__*/_jsx(Typography,{style:{display:\"flex\",textAlign:\"center\",fontWeight:\"600\"},variant:\"body1\",component:\"div\",children:\"Due Date:\"}),/*#__PURE__*/_jsx(Typography,{style:{display:\"flex\",textAlign:\"center\"},variant:\"body1\",component:\"div\",children:new Date(assignment.solutionDueDateTime).toLocaleString()})]}),/*#__PURE__*/_jsx(CustomizedButtons,{type3:true,model:\"download\",href:linkDownload,download:\"SolutionInstructor\",title:\"download\",children:\"Download Instructions\"})]}),assignment.solutionPdfDoc&&/*#__PURE__*/_jsxs(Stack,{direction:\"row\",justifyContent:\"center\",alignItems:\"center\",p:1,height:825,children:[/*#__PURE__*/_jsx(CustomizedButtons,{model:\"arrowL\",style:{color:\"black\",marginBottom:\"10px\"},onClick:goToPreviousPage}),/*#__PURE__*/_jsx(Document,{file:{data:assignment.solutionPdfDoc},onLoadSuccess:onDocumentLoadSuccess,children:/*#__PURE__*/_jsx(Page,{pageNumber:pageNumber,scale:scale})}),/*#__PURE__*/_jsx(CustomizedButtons,{model:\"arrow\",style:{color:\"black\",marginBottom:\"10px\"},onClick:goToNextPage})]})]})}),/*#__PURE__*/_jsx(CustomizedCard,{style:{marginTop:\"20px\",marginBottom:\"20px\"},children:/*#__PURE__*/_jsx(CardContent,{children:/*#__PURE__*/_jsxs(Stack,{direction:\"row\",spacing:1,alignItems:\"center\",children:[/*#__PURE__*/_jsx(Typography,{style:{display:\"flex\",textAlign:\"center\",fontWeight:\"600\"},variant:\"body1\",component:\"div\",children:\"Submit Solution as a PDF attachment:\"}),/*#__PURE__*/_jsx(CustomizedPdfUploader,{id:\"submission\",setPdfFile:setSubmissionPdfFile})]})})})]}),/*#__PURE__*/_jsxs(Stack,{direction:\"row\",justifyContent:\"flex-end\",alignItems:\"center\",spacing:2,children:[/*#__PURE__*/_jsx(CustomizedButtons,{type2:true,children:\"Cancel\"}),/*#__PURE__*/_jsx(CustomizedButtons,{type1:true,onClick:handleSubmitFile,children:\"Submit\"})]})]})})]});}export default NewSolutionAssignmentView;","map":{"version":3,"sources":["/home/ductran/Desktop/CSC480-21F/frontend/src/main/frontend/src/pages/Student/NewSolutionAssignmentView.js"],"names":["React","useState","useEffect","Typography","Document","Page","pdfjs","NavBar","CustomizedButtons","bg","CardContent","Grid","List","Stack","CustomizedCard","CustomizedContainer","Link","useSelector","useDispatch","selectUser","Loading","CustomizedPdfUploader","CustomizedBody","CustomizedTextField","getTeamIdByStudentAndCourse","postNewSolutionByStudent","handleConvertByteArrayToPdf","NewSolutionAssignmentView","history","location","dispatch","getUser","user","isAuthenticated","authLoading","scale","setScale","numPages","setNumPages","pageNumber","setPageNumber","loading","setLoading","isFirstPage","isLastPage","assignment","setAssignment","submissionPdfFile","setSubmissionPdfFile","linkDownload","setLinkDownload","teamId","setTeamId","ErrorMessage","undefined","solutionPdfDoc","courseID","then","value","teamID","catch","err","console","log","state","handleSubmitFile","event","length","alert","newSubmission","pdfDoc","seen","assignmentID","json","JSON","stringify","response","push","error","onDocumentLoadSuccess","goToPreviousPage","goToNextPage","marginBottom","display","alignItems","textAlign","fontWeight","title","marginTop","flexDirection","justifyContent","Date","solutionDueDateTime","toLocaleString","color","data"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\n\n// @mui components\nimport Typography from \"@mui/material/Typography\";\n//PDF\nimport { Document, Page, pdfjs } from \"react-pdf\";\n\n\n// styled components\nimport NavBar from \"../../components/NavBar/NavBar\";\nimport CustomizedButtons from \"../../components/CustomizedButtons\";\n\nimport bg from \"../../images/multi_background_dashboard.jpg\";\nimport { CardContent, Grid, List, Stack } from \"@mui/material\";\nimport CustomizedCard from \"../../components/CustomizedCard\";\nimport CustomizedContainer from \"../../components/CustomizedContainer\";\nimport { Link } from \"react-router-dom\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { selectUser } from \"../../features/userSlice\";\nimport Loading from \"../../components/Loading\";\nimport CustomizedPdfUploader from \"../../components/CustomizedPdfUploader\";\nimport CustomizedBody from \"../../components/CustomizedBody\";\nimport CustomizedTextField from \"../../components/CustomizedTextField\";\nimport { getTeamIdByStudentAndCourse, postNewSolutionByStudent } from \"../../axios/APIRequests\";\nimport { handleConvertByteArrayToPdf } from \"../../utils/byteArrayToPDF\";\n\nfunction NewSolutionAssignmentView({ history, location }) {\n  const dispatch = useDispatch();\n  const getUser = useSelector(selectUser);\n  const { user, isAuthenticated, authLoading } = getUser;\n\n  const [scale, setScale] = useState(1.0);\n  const [numPages, setNumPages] = useState(null);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [loading, setLoading] = useState(true);\n  const isFirstPage = pageNumber === 1;\n  const isLastPage = pageNumber === numPages;\n  // ========= main variable =======\n\n  const [assignment, setAssignment] = useState();\n  const [submissionPdfFile, setSubmissionPdfFile] = useState();\n  const [linkDownload, setLinkDownload] = useState();\n  const [teamId, setTeamId] = useState();\n  var ErrorMessage = \"Please upload your pdf file before submitting !!!\"\n  useEffect(() => {\n    if (assignment !== undefined) {\n      // =========== Handle PDF Download From Byte Array ==================\n      setLinkDownload(handleConvertByteArrayToPdf(assignment.solutionPdfDoc))\n      getTeamIdByStudentAndCourse(assignment.courseID)\n        .then((value) => {\n          setTeamId(value.teamID);\n          setLoading(false);\n        })\n        .catch((err) => {\n          console.log(err);\n        });\n    }\n  }, [assignment]);\n\n  useEffect(() => {\n    setAssignment(location.state.assignment);\n  }, []);\n\n\n  //======= handle send request to backend =====\n  const handleSubmitFile = (event) => {\n    //TODO add function to send request to backend\n\n    if (submissionPdfFile.length === 0) {\n      alert(ErrorMessage)\n    } else {\n      var newSubmission = {\n        teamID: teamId,\n        pdfDoc: submissionPdfFile,\n        seen: false,\n        assignmentID: assignment.assignmentID,\n      };\n\n      const json = JSON.stringify(newSubmission);\n      console.log(newSubmission);\n      postNewSolutionByStudent(newSubmission)\n        .then(function (response) {\n          console.log(response);\n          history.push(\"/seeallassignment\");\n        })\n        .catch(function (error) {\n          console.log(error);\n        });\n    }\n\n    \n  };\n\n  // for submit event\n  function onDocumentLoadSuccess({ numPages }) {\n    setNumPages(numPages);\n  }\n  const goToPreviousPage = () => {\n    if (!isFirstPage) setPageNumber(pageNumber - 1);\n  };\n  const goToNextPage = () => {\n    if (!isLastPage) setPageNumber(pageNumber + 1);\n  };\n\n  return (\n    <CustomizedBody bg={bg}>\n      <NavBar fixed history={history}></NavBar>\n      {loading === true ? (\n        <Loading />\n      ) : (\n        <>\n          <CustomizedContainer>\n            <Grid\n              container\n              sx={{\n                marginBottom: \"20px\",\n                display: \"flex\",\n                alignItems: \"center\",\n              }}\n              spacing={9}\n            >\n              <Grid item xs={9}>\n                <Typography\n                  style={{\n                    display: \"flex\",\n                    textAlign: \"center\",\n                    fontWeight: \"600\",\n                  }}\n                  variant=\"h6\"\n                  component=\"div\"\n                >\n                  {`${assignment.title} Solution`}\n                </Typography>\n              </Grid>\n            </Grid>\n            <div>\n              <CustomizedCard style={{ marginTop: \"20px\"}}>\n                <CardContent>\n                    <div\n                      style={{\n                        display: \"flex\",\n                        marginBottom: \"20px\",\n                        flexDirection: \"row\",\n                        justifyContent: \"space-between\",\n                      }}\n                    >\n                      <Stack direction=\"row\" spacing={1} alignItems=\"center\">\n                        <Typography\n                          style={{\n                            display: \"flex\",\n                            textAlign: \"center\",\n                            fontWeight: \"600\",\n                          }}\n                          variant=\"body1\"\n                          component=\"div\"\n                        >\n                          Due Date:\n                        </Typography>\n                        <Typography\n                          style={{\n                            display: \"flex\",\n                            textAlign: \"center\",\n                          }}\n                          variant=\"body1\"\n                          component=\"div\"\n                        >\n                          {new Date(\n                            assignment.solutionDueDateTime\n                          ).toLocaleString()}\n                        </Typography>\n                      </Stack>\n                      <CustomizedButtons\n                        type3\n                        model={\"download\"}\n                        href={linkDownload}\n                        download={\"SolutionInstructor\"}\n                        title=\"download\"\n                    \n                      >\n                        Download Instructions\n                      </CustomizedButtons>\n                    </div>\n                  {assignment.solutionPdfDoc && (\n                    <Stack direction=\"row\" justifyContent=\"center\" alignItems=\"center\" p={1} height={825}\n                    >\n                      <CustomizedButtons\n                        model={\"arrowL\"}\n                        style={{ color: \"black\", marginBottom: \"10px\" }}\n                        onClick={goToPreviousPage}\n                      ></CustomizedButtons>\n                      <Document\n                        file={{ data: assignment.solutionPdfDoc }}\n                        onLoadSuccess={onDocumentLoadSuccess}\n                      >\n                        <Page pageNumber={pageNumber} scale={scale} />\n                      </Document>\n                      <CustomizedButtons\n                        model={\"arrow\"}\n                        style={{ color: \"black\", marginBottom: \"10px\" }}\n                        onClick={goToNextPage}\n                      ></CustomizedButtons>\n                    </Stack>\n                  )}\n                </CardContent>\n              </CustomizedCard>\n              <CustomizedCard\n                style={{ marginTop: \"20px\", marginBottom: \"20px\" }}\n              >\n                <CardContent>\n                  <Stack direction=\"row\" spacing={1} alignItems=\"center\">\n                    <Typography\n                      style={{\n                        display: \"flex\",\n                        textAlign: \"center\",\n                        fontWeight: \"600\",\n                      }}\n                      variant=\"body1\"\n                      component=\"div\"\n                    >\n                      Submit Solution as a PDF attachment:\n                    </Typography>\n                      <CustomizedPdfUploader\n                        id=\"submission\"\n                        setPdfFile={setSubmissionPdfFile}\n                      ></CustomizedPdfUploader>\n                  </Stack>\n                </CardContent>\n              </CustomizedCard>\n            </div>\n            <Stack\n              direction=\"row\"\n              justifyContent=\"flex-end\"\n              alignItems=\"center\"\n              spacing={2}\n            >\n              <CustomizedButtons type2>Cancel</CustomizedButtons>\n              <CustomizedButtons type1 onClick={handleSubmitFile}>\n                Submit\n              </CustomizedButtons>\n            </Stack>\n          </CustomizedContainer>\n        </>\n      )}\n    </CustomizedBody>\n  );\n}\n\nexport default NewSolutionAssignmentView;\n"]},"metadata":{},"sourceType":"module"}