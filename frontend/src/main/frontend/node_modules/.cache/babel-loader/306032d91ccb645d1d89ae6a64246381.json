{"ast":null,"code":"import _slicedToArray from\"/home/ductran/guide-rest-client-reactjs/start/src/main/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _objectSpread from\"/home/ductran/guide-rest-client-reactjs/start/src/main/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _objectWithoutProperties from\"/home/ductran/guide-rest-client-reactjs/start/src/main/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";var _excluded=[\"children\",\"value\",\"index\"];import React,{useState,useEffect}from\"react\";// @mui components\nimport{CardContent,Grid,List,Stack,Typography,Box,CardHeader}from\"@mui/material\";//PDF\nimport{Document,Page,pdfjs}from\"react-pdf\";// styled components\nimport NavBar from\"../../components/NavBar/NavBar\";import CustomizedButtons from\"../../components/CustomizedButtons\";import bg from\"../../images/multi_background_dashboard.jpg\";import CustomizedCard from\"../../components/CustomizedCard\";import CustomizedContainer from\"../../components/CustomizedContainer\";import{Link}from\"react-router-dom\";import{useSelector,useDispatch}from\"react-redux\";import{selectUser}from\"../../features/userSlice\";import Loading from\"../../components/Loading\";import CustomizedPdfUploader from\"../../components/CustomizedPdfUploader\";import CustomizedBody from\"../../components/CustomizedBody\";import CustomizedTabs from\"../../components/CustomizedTabs\";import{getPeerReviewResulttByStudent}from\"../../axios/APIRequests\";import{handleConvertByteArrayToPdf}from\"../../utils/byteArrayToPDF\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function TabPanel(props){var children=props.children,value=props.value,index=props.index,other=_objectWithoutProperties(props,_excluded);return/*#__PURE__*/_jsx(\"div\",_objectSpread(_objectSpread({sx:{borderRadius:\"10px\"},role:\"tabpanel\",hidden:value!==index,id:\"simple-tabpanel-\".concat(index),\"aria-labelledby\":\"simple-tab-\".concat(index)},other),{},{children:value===index&&/*#__PURE__*/_jsx(Box,{children:children})}));}function StudentPeerReviewResultsDisplay(_ref){var history=_ref.history,location=_ref.location;var dispatch=useDispatch();var getUser=useSelector(selectUser);var user=getUser.user,isAuthenticated=getUser.isAuthenticated,authLoading=getUser.authLoading;var _useState=useState(1.0),_useState2=_slicedToArray(_useState,2),scale=_useState2[0],setScale=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),numPages=_useState4[0],setNumPages=_useState4[1];var _useState5=useState(1),_useState6=_slicedToArray(_useState5,2),pageNumber=_useState6[0],setPageNumber=_useState6[1];var _useState7=useState(true),_useState8=_slicedToArray(_useState7,2),isLoading=_useState8[0],setIsLoading=_useState8[1];var _useState9=useState(true),_useState10=_slicedToArray(_useState9,2),loading=_useState10[0],setLoading=_useState10[1];var isFirstPage=pageNumber===1;var isLastPage=pageNumber===numPages;var _useState11=useState(0),_useState12=_slicedToArray(_useState11,2),tab=_useState12[0],setTab=_useState12[1];// ========= main variable =======\nvar _React$useState=React.useState(\"\"),_React$useState2=_slicedToArray(_React$useState,2),comments=_React$useState2[0],setComments=_React$useState2[1];var _useState13=useState(),_useState14=_slicedToArray(_useState13,2),assignment=_useState14[0],setAssignment=_useState14[1];var _useState15=useState(null),_useState16=_slicedToArray(_useState15,2),submissionPdfFile=_useState16[0],setSubmissionPdfFile=_useState16[1];var _useState17=useState(),_useState18=_slicedToArray(_useState17,2),peerReviewResult=_useState18[0],setPeerReviewResult=_useState18[1];var _useState19=useState(),_useState20=_slicedToArray(_useState19,2),linkDownload=_useState20[0],setLinkDownload=_useState20[1];useEffect(function(){if(location.state.assignmentID==undefined)return;var assignmentID=location.state.assignmentID;getPeerReviewResulttByStudent(assignmentID).then(function(value){console.log(value);if(peerReviewResult===undefined){setPeerReviewResult(value);}setLoading(false);}).catch(function(err){console.log(err);});},[]);useEffect(function(){if(peerReviewResult!==undefined){//console.log(peerReviewResult.peerReview[tab].pdfDoc)\nsetLinkDownload(handleConvertByteArrayToPdf(peerReviewResult.peerReview[tab].pdfDoc));}},[peerReviewResult,tab]);// for submit event\nfunction onDocumentLoadSuccess(_ref2){var numPages=_ref2.numPages;setNumPages(numPages);setIsLoading(false);}var goToPreviousPage=function goToPreviousPage(){if(!isFirstPage)setPageNumber(pageNumber-1);};var goToNextPage=function goToNextPage(){if(!isLastPage)setPageNumber(pageNumber+1);};return/*#__PURE__*/_jsxs(CustomizedBody,{bg:bg,children:[/*#__PURE__*/_jsx(NavBar,{fixed:true,history:history}),loading===true?/*#__PURE__*/_jsx(Loading,{}):/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(CustomizedContainer,{children:[/*#__PURE__*/_jsx(Grid,{container:true,sx:{marginBottom:\"20px\",display:\"flex\",alignItems:\"center\"},spacing:9,children:/*#__PURE__*/_jsx(Grid,{item:true,xs:9,children:/*#__PURE__*/_jsx(Typography,{style:{display:\"flex\",textAlign:\"center\",fontWeight:\"600\"},variant:\"h6\",component:\"div\",children:\"Peer Review Results\"})})}),/*#__PURE__*/_jsx(CustomizedCard,{style:{marginTop:\"20px\"},children:/*#__PURE__*/_jsx(CardContent,{children:/*#__PURE__*/_jsx(Stack,{direction:\"row\",justifyContent:\"space-between\",alignItems:\"center\",spacing:3,children:/*#__PURE__*/_jsx(Typography,{style:{display:\"flex\",textAlign:\"center\",fontWeight:\"600\"},variant:\"body1\",component:\"div\",children:\"Averaged Score: \".concat(Math.round(peerReviewResult.averageScore))})})})}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:\"20px\"},children:[/*#__PURE__*/_jsx(CustomizedTabs,{type3:true,setTab:setTab,value:tab,labels:Array.from({length:peerReviewResult.peerReview.length},function(_,index){return\"Review \".concat(index+1);})}),peerReviewResult.peerReview.map(function(review,key){return/*#__PURE__*/_jsx(TabPanel,{value:tab,index:key,children:/*#__PURE__*/_jsx(CustomizedCard,{children:/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsxs(Stack,{direction:\"row\",justifyContent:\"space-between\",children:[/*#__PURE__*/_jsxs(CustomizedButtons,{type2:true,children:[\"Score : \",review.score]}),/*#__PURE__*/_jsx(CustomizedButtons,{type3:true,model:\"download\",href:linkDownload,download:\"PeerReview.pdf\",children:\"Download Reviews\"})]}),review.pdfDoc&&/*#__PURE__*/_jsxs(Stack,{direction:\"row\",justifyContent:\"center\",alignItems:\"center\",p:1,children:[/*#__PURE__*/_jsx(CustomizedButtons,{model:\"arrowL\",style:{color:\"black\",marginBottom:\"10px\"},onClick:goToPreviousPage}),/*#__PURE__*/_jsx(Document,{file:{data:review.pdfDoc},onLoadSuccess:onDocumentLoadSuccess,children:/*#__PURE__*/_jsx(Page,{pageNumber:pageNumber,scale:scale})}),/*#__PURE__*/_jsx(CustomizedButtons,{model:\"arrow\",style:{color:\"black\",marginBottom:\"10px\"},onClick:goToNextPage})]}),\" \"]})})});})]})]})})]});}export default StudentPeerReviewResultsDisplay;","map":{"version":3,"sources":["/home/ductran/guide-rest-client-reactjs/start/src/main/frontend/src/pages/Student/StudentPeerReviewResultsDisplay.js"],"names":["React","useState","useEffect","CardContent","Grid","List","Stack","Typography","Box","CardHeader","Document","Page","pdfjs","NavBar","CustomizedButtons","bg","CustomizedCard","CustomizedContainer","Link","useSelector","useDispatch","selectUser","Loading","CustomizedPdfUploader","CustomizedBody","CustomizedTabs","getPeerReviewResulttByStudent","handleConvertByteArrayToPdf","TabPanel","props","children","value","index","other","borderRadius","StudentPeerReviewResultsDisplay","history","location","dispatch","getUser","user","isAuthenticated","authLoading","scale","setScale","numPages","setNumPages","pageNumber","setPageNumber","isLoading","setIsLoading","loading","setLoading","isFirstPage","isLastPage","tab","setTab","comments","setComments","assignment","setAssignment","submissionPdfFile","setSubmissionPdfFile","peerReviewResult","setPeerReviewResult","linkDownload","setLinkDownload","state","assignmentID","undefined","then","console","log","catch","err","peerReview","pdfDoc","onDocumentLoadSuccess","goToPreviousPage","goToNextPage","marginBottom","display","alignItems","textAlign","fontWeight","marginTop","Math","round","averageScore","Array","from","length","_","map","review","key","score","color","data"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\n// @mui components\nimport {\n  CardContent,\n  Grid,\n  List,\n  Stack,\n  Typography,\n  Box,\n  CardHeader,\n} from \"@mui/material\";\n//PDF\nimport { Document, Page, pdfjs } from \"react-pdf\";\n\n// styled components\nimport NavBar from \"../../components/NavBar/NavBar\";\nimport CustomizedButtons from \"../../components/CustomizedButtons\";\n\nimport bg from \"../../images/multi_background_dashboard.jpg\";\n\nimport CustomizedCard from \"../../components/CustomizedCard\";\nimport CustomizedContainer from \"../../components/CustomizedContainer\";\nimport { Link } from \"react-router-dom\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { selectUser } from \"../../features/userSlice\";\nimport Loading from \"../../components/Loading\";\nimport CustomizedPdfUploader from \"../../components/CustomizedPdfUploader\";\nimport CustomizedBody from \"../../components/CustomizedBody\";\nimport CustomizedTabs from \"../../components/CustomizedTabs\";\nimport { getPeerReviewResulttByStudent } from \"../../axios/APIRequests\";\nimport { handleConvertByteArrayToPdf } from \"../../utils/byteArrayToPDF\";\nfunction TabPanel(props) {\n  const { children, value, index, ...other } = props;\n\n  return (\n    <div\n      sx={{ borderRadius: \"10px\" }}\n      role=\"tabpanel\"\n      hidden={value !== index}\n      id={`simple-tabpanel-${index}`}\n      aria-labelledby={`simple-tab-${index}`}\n      {...other}\n    >\n      {value === index && <Box>{children}</Box>}\n    </div>\n  );\n}\nfunction StudentPeerReviewResultsDisplay({ history, location }) {\n  const dispatch = useDispatch();\n  const getUser = useSelector(selectUser);\n  const { user, isAuthenticated, authLoading } = getUser;\n\n  const [scale, setScale] = useState(1.0);\n  const [numPages, setNumPages] = useState(null);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [isLoading, setIsLoading] = useState(true);\n  const [loading, setLoading] = useState(true);\n  const isFirstPage = pageNumber === 1;\n  const isLastPage = pageNumber === numPages;\n  const [tab, setTab] = useState(0);\n  // ========= main variable =======\n  const [comments, setComments] = React.useState(\"\");\n  const [assignment, setAssignment] = useState();\n  const [submissionPdfFile, setSubmissionPdfFile] = useState(null);\n  const [peerReviewResult, setPeerReviewResult] = useState();\n  const [linkDownload, setLinkDownload] = useState();\n  useEffect(() => {\n    if (location.state.assignmentID == undefined) return;\n    var assignmentID = location.state.assignmentID;\n    getPeerReviewResulttByStudent(assignmentID)\n      .then((value) => {\n        console.log(value);\n        if (peerReviewResult === undefined) {\n          setPeerReviewResult(value);\n        }\n        setLoading(false);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }, []);\n  useEffect(() => {\n   \n    if(peerReviewResult !== undefined){\n     //console.log(peerReviewResult.peerReview[tab].pdfDoc)\n      setLinkDownload(handleConvertByteArrayToPdf(peerReviewResult.peerReview[tab].pdfDoc));\n    }\n  }, [peerReviewResult,tab])\n  // for submit event\n  function onDocumentLoadSuccess({ numPages }) {\n    setNumPages(numPages);\n    setIsLoading(false);\n  }\n  const goToPreviousPage = () => {\n    if (!isFirstPage) setPageNumber(pageNumber - 1);\n  };\n  const goToNextPage = () => {\n    if (!isLastPage) setPageNumber(pageNumber + 1);\n  };\n\n  return (\n    <CustomizedBody bg={bg}>\n      <NavBar fixed history={history}></NavBar>\n      {loading === true ? (\n        <Loading />\n      ) : (\n        <>\n          <CustomizedContainer>\n            <Grid\n              container\n              sx={{\n                marginBottom: \"20px\",\n                display: \"flex\",\n                alignItems: \"center\",\n              }}\n              spacing={9}\n            >\n              <Grid item xs={9}>\n                <Typography\n                  style={{\n                    display: \"flex\",\n                    textAlign: \"center\",\n                    fontWeight: \"600\",\n                  }}\n                  variant=\"h6\"\n                  component=\"div\"\n                >\n                  Peer Review Results\n                </Typography>\n              </Grid>\n            </Grid>\n            <CustomizedCard style={{ marginTop: \"20px\" }}>\n              <CardContent>\n                <Stack\n                  direction=\"row\"\n                  justifyContent=\"space-between\"\n                  alignItems=\"center\"\n                  spacing={3}\n                >\n                  <Typography\n                    style={{\n                      display: \"flex\",\n                      textAlign: \"center\",\n                      fontWeight: \"600\",\n                    }}\n                    variant=\"body1\"\n                    component=\"div\"\n                  >\n                    {`Averaged Score: ${Math.round(\n                    peerReviewResult.averageScore\n                  )}`}\n                  </Typography>\n                </Stack>\n              </CardContent>\n            </CustomizedCard>\n            <div style={{ marginTop: \"20px\" }}>\n              <CustomizedTabs\n                type3\n                setTab={setTab}\n                value={tab}\n                labels={Array.from(\n                  { length: peerReviewResult.peerReview.length },\n                  (_, index) => `Review ${index + 1}`\n                )}\n              ></CustomizedTabs>\n              {peerReviewResult.peerReview.map((review, key) => (\n                <TabPanel value={tab} index={key}>\n                  <CustomizedCard>\n                    <CardContent>\n                      <Stack direction=\"row\" justifyContent=\"space-between\">\n                        <CustomizedButtons type2>\n                          Score : {review.score}\n                        </CustomizedButtons>\n                        <CustomizedButtons\n                          type3\n                          model={\"download\"}\n                          href={linkDownload}\n                          download={\"PeerReview.pdf\"}\n                        >\n                          Download Reviews\n                        </CustomizedButtons>\n                      </Stack>\n                      {review.pdfDoc && (\n                        <Stack\n                          direction=\"row\"\n                          justifyContent=\"center\"\n                          alignItems=\"center\"\n                          p={1}\n                        >\n                          <CustomizedButtons\n                            model={\"arrowL\"}\n                            style={{ color: \"black\", marginBottom: \"10px\" }}\n                            onClick={goToPreviousPage}\n                          ></CustomizedButtons>\n                          <Document\n                            file={{ data: review.pdfDoc }}\n                            onLoadSuccess={onDocumentLoadSuccess}\n                          >\n                            <Page pageNumber={pageNumber} scale={scale} />\n                          </Document>\n                          <CustomizedButtons\n                            model={\"arrow\"}\n                            style={{ color: \"black\", marginBottom: \"10px\" }}\n                            onClick={goToNextPage}\n                          ></CustomizedButtons>\n                        </Stack>\n                      )}{\" \"}\n                    </CardContent>\n                  </CustomizedCard>\n                </TabPanel>\n              ))}\n            </div>\n          </CustomizedContainer>\n        </>\n      )}\n    </CustomizedBody>\n  );\n}\n\nexport default StudentPeerReviewResultsDisplay;\n"]},"metadata":{},"sourceType":"module"}