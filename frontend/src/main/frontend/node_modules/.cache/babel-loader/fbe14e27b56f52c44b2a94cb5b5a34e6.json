{"ast":null,"code":"import _slicedToArray from\"/home/ductran/Desktop/CSC480-21F/frontend/src/main/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _objectSpread from\"/home/ductran/Desktop/CSC480-21F/frontend/src/main/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _objectWithoutProperties from\"/home/ductran/Desktop/CSC480-21F/frontend/src/main/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";var _excluded=[\"children\",\"value\",\"index\"];import React,{useState,useEffect}from\"react\";import{Link}from\"react-router-dom\";// @mui components\nimport{Grid,Card,CardHeader,CardContent,Container,Typography,Box,Stack,Radio,autocompleteClasses}from\"@mui/material\";// styled components\nimport CustomizedTabs from\"../../components/CustomizedTabs\";import CustomizedCard from\"../../components/CustomizedCard\";import CustomizedContainer from\"../../components/CustomizedContainer\";import CustomizedButtons from\"../../components/CustomizedButtons\";import NavBar from\"../../components/NavBar/NavBar\";import bg from\"../../images/multi_background_dashboard.jpg\";import PDFControlBar from\"../../components/PDFhandling/PDFControlBar\";import{Document,Page,pdfjs}from\"react-pdf\";import{getSpecificAssignment}from\"../../axios/APIRequests\";import Loading from\"../../components/Loading\";import CustomizedBody from\"../../components/CustomizedBody\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function TabPanel(props){var children=props.children,value=props.value,index=props.index,other=_objectWithoutProperties(props,_excluded);return/*#__PURE__*/_jsx(\"div\",_objectSpread(_objectSpread({sx:{borderRadius:\"10px\"},role:\"tabpanel\",hidden:value!==index,id:\"simple-tabpanel-\".concat(index),\"aria-labelledby\":\"simple-tab-\".concat(index)},other),{},{children:value===index&&/*#__PURE__*/_jsx(Box,{children:children})}));}function AssignmentDisplay(_ref){var history=_ref.history,location=_ref.location;var _useState=useState(1.0),_useState2=_slicedToArray(_useState,2),scale=_useState2[0],setScale=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),numPages=_useState4[0],setNumPages=_useState4[1];var _useState5=useState(1),_useState6=_slicedToArray(_useState5,2),pageNumber=_useState6[0],setPageNumber=_useState6[1];var isFirstPage=pageNumber===1;var isLastPage=pageNumber===numPages;var _useState7=useState(true),_useState8=_slicedToArray(_useState7,2),isLoading=_useState8[0],setIsLoading=_useState8[1];var _React$useState=React.useState(0),_React$useState2=_slicedToArray(_React$useState,2),tab=_React$useState2[0],setTab=_React$useState2[1];var _useState9=useState(),_useState10=_slicedToArray(_useState9,2),assignment=_useState10[0],setAssignment=_useState10[1];var _React$useState3=React.useState(true),_React$useState4=_slicedToArray(_React$useState3,2),loading=_React$useState4[0],setLoading=_React$useState4[1];var _useState11=useState(),_useState12=_slicedToArray(_useState11,2),solutionPdf=_useState12[0],setSolutionPdf=_useState12[1];var _useState13=useState(),_useState14=_slicedToArray(_useState13,2),peerReviewPdf=_useState14[0],setPeerReviewPdf=_useState14[1];useEffect(function(){if(assignment!==undefined&&assignment.length!==0){setSolutionPdf(assignment.solutionPdfDoc);setPeerReviewPdf(assignment.peerReviewPdfDoc);setLoading(false);}},[assignment]);useEffect(function(){var assignmentID=location.state.assignmentID;getSpecificAssignment(assignmentID).then(function(value){console.log(value);setAssignment(value);}).catch(function(err){console.log(err);});},[]);function onDocumentLoadSuccess(_ref2){var numPages=_ref2.numPages;setNumPages(numPages);setIsLoading(false);}var goToPreviousPage=function goToPreviousPage(){if(!isFirstPage)setPageNumber(pageNumber-1);};var goToNextPage=function goToNextPage(){if(!isLastPage)setPageNumber(pageNumber+1);};return/*#__PURE__*/_jsxs(CustomizedBody,{bg:bg,children:[/*#__PURE__*/_jsx(NavBar,{fixed:true}),/*#__PURE__*/_jsx(CustomizedContainer,{children:/*#__PURE__*/_jsx(_Fragment,{children:loading===true?/*#__PURE__*/_jsx(Loading,{}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Stack,{direction:\"row\",justifyContent:\"space-between\",alignItems:\"center\",children:[/*#__PURE__*/_jsxs(Stack,{direction:\"row\",spacing:1,children:[/*#__PURE__*/_jsx(Typography,{style:{display:\"flex\",alignItems:\"center\",fontWeight:\"600\"},variant:\"h6\",component:\"div\",children:assignment.title}),assignment.draft===true?/*#__PURE__*/_jsx(Typography,{style:{display:\"flex\",color:\"#777\",fontWeight:\"500\",alignItems:\"center\"},variant:\"h6\",component:\"div\",children:\"(Draft)\"}):/*#__PURE__*/_jsx(_Fragment,{})]}),/*#__PURE__*/_jsxs(Stack,{direction:\"row\",spacing:2,children:[/*#__PURE__*/_jsx(CustomizedButtons,{type1:true,onClick:function onClick(){history.push(\"/assignmentedit\",{assignmentID:assignment.assignmentID,courseID:assignment.courseID});},children:\"Edit Assignment\"}),assignment.draft===true?/*#__PURE__*/_jsx(CustomizedButtons,{type1:true,onClick:function onClick(){history.push(\"/assignmentedit\",{assignment:assignment,courseID:assignment.courseID});},children:\"Publish\"}):/*#__PURE__*/_jsx(_Fragment,{})]})]}),/*#__PURE__*/_jsx(CustomizedCard,{sx:{margin:\"20px 0\"},children:/*#__PURE__*/_jsx(CardContent,{children:/*#__PURE__*/_jsxs(Grid,{container:true,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsxs(Stack,{direction:\"row\",spacing:1,children:[/*#__PURE__*/_jsx(Typography,{style:{display:\"flex\",textAlign:\"center\",fontWeight:\"600\"},variant:\"body1\",component:\"div\",children:\"Publish Date:\"}),/*#__PURE__*/_jsx(Typography,{style:{display:\"flex\",textAlign:\"center\"},variant:\"body1\",component:\"div\",children:new Date(assignment.publishDateTime).toDateString()})]})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:6,children:/*#__PURE__*/_jsxs(Stack,{direction:\"row\",spacing:1,children:[/*#__PURE__*/_jsx(Typography,{style:{display:\"flex\",textAlign:\"center\",fontWeight:\"600\"},variant:\"body1\",component:\"div\",children:\"Solution Due Date:\"}),/*#__PURE__*/_jsx(Typography,{style:{display:\"flex\",textAlign:\"center\"},variant:\"body1\",component:\"div\",children:new Date(assignment.solutionDueDateTime).toLocaleString()})]})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:6,children:/*#__PURE__*/_jsxs(Stack,{direction:\"row\",spacing:1,children:[/*#__PURE__*/_jsx(Typography,{style:{display:\"flex\",textAlign:\"center\",fontWeight:\"600\"},variant:\"body1\",component:\"div\",children:\"Peer Review Due:\"}),/*#__PURE__*/_jsx(Typography,{style:{display:\"flex\",textAlign:\"center\"},variant:\"body1\",component:\"div\",children:new Date(assignment.peerReviewDueDateTime).toLocaleString()})]})})]})})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(CustomizedTabs,{type1:true,setTab:setTab,tab:tab,labels:[\"Solution\",\"Peer Review\"]}),/*#__PURE__*/_jsx(TabPanel,{value:tab,index:0,children:/*#__PURE__*/_jsx(CustomizedCard,{children:/*#__PURE__*/_jsx(CardContent,{children:solutionPdf&&/*#__PURE__*/_jsxs(Stack,{direction:\"row\",justifyContent:\"center\",alignItems:\"center\",p:10,children:[/*#__PURE__*/_jsx(CustomizedButtons,{model:\"arrowL\",style:{color:\"black\",marginBottom:\"10px\"},onClick:goToPreviousPage}),/*#__PURE__*/_jsx(Document,{file:{data:solutionPdf},onLoadSuccess:onDocumentLoadSuccess,children:/*#__PURE__*/_jsx(Page,{pageNumber:pageNumber,scale:scale})}),/*#__PURE__*/_jsx(CustomizedButtons,{model:\"arrow\",style:{color:\"black\",marginBottom:\"10px\"},onClick:goToNextPage})]})})})}),/*#__PURE__*/_jsx(TabPanel,{value:tab,index:1,children:/*#__PURE__*/_jsx(CustomizedCard,{s:true,children:/*#__PURE__*/_jsx(CardContent,{children:/*#__PURE__*/_jsx(_Fragment,{children:peerReviewPdf&&/*#__PURE__*/_jsxs(Stack,{direction:\"row\",justifyContent:\"center\",alignItems:\"center\",p:1,height:825,children:[/*#__PURE__*/_jsx(CustomizedButtons,{model:\"arrowL\",style:{color:\"black\",marginBottom:\"10px\"},onClick:goToPreviousPage}),/*#__PURE__*/_jsx(Document,{file:{data:peerReviewPdf},onLoadSuccess:onDocumentLoadSuccess,children:/*#__PURE__*/_jsx(Page,{pageNumber:pageNumber,scale:scale})}),/*#__PURE__*/_jsx(CustomizedButtons,{model:\"arrow\",style:{color:\"black\",marginBottom:\"10px\"},onClick:goToNextPage})]})})})})})]})]})})})]});}export default AssignmentDisplay;","map":{"version":3,"sources":["/home/ductran/Desktop/CSC480-21F/frontend/src/main/frontend/src/pages/Professor/AssignmentDisplay.js"],"names":["React","useState","useEffect","Link","Grid","Card","CardHeader","CardContent","Container","Typography","Box","Stack","Radio","autocompleteClasses","CustomizedTabs","CustomizedCard","CustomizedContainer","CustomizedButtons","NavBar","bg","PDFControlBar","Document","Page","pdfjs","getSpecificAssignment","Loading","CustomizedBody","TabPanel","props","children","value","index","other","borderRadius","AssignmentDisplay","history","location","scale","setScale","numPages","setNumPages","pageNumber","setPageNumber","isFirstPage","isLastPage","isLoading","setIsLoading","tab","setTab","assignment","setAssignment","loading","setLoading","solutionPdf","setSolutionPdf","peerReviewPdf","setPeerReviewPdf","undefined","length","solutionPdfDoc","peerReviewPdfDoc","assignmentID","state","then","console","log","catch","err","onDocumentLoadSuccess","goToPreviousPage","goToNextPage","display","alignItems","fontWeight","title","draft","color","push","courseID","margin","textAlign","Date","publishDateTime","toDateString","solutionDueDateTime","toLocaleString","peerReviewDueDateTime","marginBottom","data"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\n// @mui components\nimport {\n  Grid,\n  Card,\n  CardHeader,\n  CardContent,\n  Container,\n  Typography,\n  Box,\n  Stack,\n  Radio,\n  autocompleteClasses,\n} from \"@mui/material\";\n// styled components\nimport CustomizedTabs from \"../../components/CustomizedTabs\";\nimport CustomizedCard from \"../../components/CustomizedCard\";\nimport CustomizedContainer from \"../../components/CustomizedContainer\";\nimport CustomizedButtons from \"../../components/CustomizedButtons\";\nimport NavBar from \"../../components/NavBar/NavBar\";\nimport bg from \"../../images/multi_background_dashboard.jpg\";\nimport PDFControlBar from \"../../components/PDFhandling/PDFControlBar\";\nimport { Document, Page, pdfjs } from \"react-pdf\";\n\nimport {\n  getSpecificAssignment,\n} from \"../../axios/APIRequests\";\nimport Loading from \"../../components/Loading\";\nimport CustomizedBody from \"../../components/CustomizedBody\";\nfunction TabPanel(props) {\n  const { children, value, index, ...other } = props;\n\n  return (\n    <div\n      sx={{ borderRadius: \"10px\" }}\n      role=\"tabpanel\"\n      hidden={value !== index}\n      id={`simple-tabpanel-${index}`}\n      aria-labelledby={`simple-tab-${index}`}\n      {...other}\n    >\n      {value === index && <Box>{children}</Box>}\n    </div>\n  );\n}\n\nfunction AssignmentDisplay({ history, location }) {\n  const [scale, setScale] = useState(1.0);\n  const [numPages, setNumPages] = useState(null);\n  const [pageNumber, setPageNumber] = useState(1);\n  const isFirstPage = pageNumber === 1;\n  const isLastPage = pageNumber === numPages;\n  const [isLoading, setIsLoading] = useState(true);\n  const [tab, setTab] = React.useState(0);\n  const [assignment, setAssignment] = useState()\n  const [loading, setLoading] = React.useState(true);\n  const [solutionPdf, setSolutionPdf] = useState()\n  const [peerReviewPdf, setPeerReviewPdf] = useState()\n\n  useEffect(() => {\n    if (assignment !== undefined && assignment.length !== 0) {\n      setSolutionPdf(assignment.solutionPdfDoc)\n      setPeerReviewPdf(assignment.peerReviewPdfDoc)\n      setLoading(false);\n    }\n  }, [assignment]);\n  useEffect(() => {\n    var assignmentID = location.state.assignmentID\n    getSpecificAssignment(assignmentID)\n    .then((value) => {\n      console.log(value);\n      setAssignment(value);\n    })\n    .catch((err) => {\n      console.log(err);\n    });\n  }, []);\n\n  function onDocumentLoadSuccess({ numPages }) {\n    setNumPages(numPages);\n    setIsLoading(false);\n  }\n\n  const goToPreviousPage = () => {\n    if (!isFirstPage) setPageNumber(pageNumber - 1);\n  };\n  const goToNextPage = () => {\n    if (!isLastPage) setPageNumber(pageNumber + 1);\n  };\n\n  return (\n    <CustomizedBody bg={bg}>\n      <NavBar fixed></NavBar>\n      <CustomizedContainer>\n      <>\n          {loading === true ? (\n            <Loading />\n          ) : (\n            <>\n        <Stack direction=\"row\" justifyContent=\"space-between\" alignItems=\"center\">\n          <Stack direction=\"row\" spacing={1}>\n            <Typography\n              style={{\n                display: \"flex\",\n                alignItems: \"center\",\n                fontWeight: \"600\",\n              }}\n              variant=\"h6\"\n              component=\"div\"\n            >\n              {assignment.title}\n            </Typography>\n            {assignment.draft === true ? (\n              <Typography\n                style={{\n                  display: \"flex\",\n                  color: \"#777\",\n                  fontWeight: \"500\",\n                  alignItems: \"center\",\n                }}\n                variant=\"h6\"\n                component=\"div\"\n              >\n                (Draft)\n              </Typography>\n            ) : (\n              <></>\n            )}\n          </Stack>\n\n          <Stack direction=\"row\" spacing={2}>\n            <CustomizedButtons\n              type1\n              onClick={() => {\n                history.push(\"/assignmentedit\", {\n                  assignmentID: assignment.assignmentID,\n                  courseID: assignment.courseID,\n                });\n              }}\n            >\n              Edit Assignment\n            </CustomizedButtons>\n            {assignment.draft === true ? (\n              <CustomizedButtons\n                type1\n                onClick={() => {\n                  history.push(\"/assignmentedit\", {\n                    assignment: assignment,\n                    courseID: assignment.courseID,\n                  });\n                }}\n              >\n                Publish\n              </CustomizedButtons>\n            ) : (\n              <></>\n            )}\n          </Stack>\n        </Stack>\n        <CustomizedCard sx={{ margin: \"20px 0\" }}>\n          <CardContent>\n            <Grid container>\n              <Grid item xs={12}>\n                <Stack direction=\"row\" spacing={1}>\n                  <Typography\n                    style={{\n                      display: \"flex\",\n                      textAlign: \"center\",\n                      fontWeight: \"600\",\n                    }}\n                    variant=\"body1\"\n                    component=\"div\"\n                  >\n                    Publish Date:\n                  </Typography>\n                  <Typography\n                    style={{\n                      display: \"flex\",\n                      textAlign: \"center\",\n                    }}\n                    variant=\"body1\"\n                    component=\"div\"\n                  >\n                    {new Date(assignment.publishDateTime).toDateString()}\n                  </Typography>\n                </Stack>\n              </Grid>\n              <Grid item xs={6}>\n                <Stack direction=\"row\" spacing={1}>\n                  <Typography\n                    style={{\n                      display: \"flex\",\n                      textAlign: \"center\",\n                      fontWeight: \"600\",\n                    }}\n                    variant=\"body1\"\n                    component=\"div\"\n                  >\n                    Solution Due Date:\n                  </Typography>\n                  <Typography\n                    style={{\n                      display: \"flex\",\n                      textAlign: \"center\",\n                    }}\n                    variant=\"body1\"\n                    component=\"div\"\n                  >\n                    {new Date(assignment.solutionDueDateTime).toLocaleString()}\n                  </Typography>\n                </Stack>\n              </Grid>\n              <Grid item xs={6}>\n                <Stack direction=\"row\" spacing={1}>\n                  <Typography\n                    style={{\n                      display: \"flex\",\n                      textAlign: \"center\",\n                      fontWeight: \"600\",\n                    }}\n                    variant=\"body1\"\n                    component=\"div\"\n                  >\n                    Peer Review Due:\n                  </Typography>\n                  <Typography\n                    style={{\n                      display: \"flex\",\n                      textAlign: \"center\",\n                    }}\n                    variant=\"body1\"\n                    component=\"div\"\n                  >\n                    {new Date(\n                      assignment.peerReviewDueDateTime\n                    ).toLocaleString()}\n                  </Typography>\n                </Stack>\n              </Grid>\n            </Grid>\n          </CardContent>\n        </CustomizedCard>\n        <div>\n          <CustomizedTabs\n            type1\n            setTab={setTab}\n            tab={tab}\n            labels={[\"Solution\", \"Peer Review\"]}\n          ></CustomizedTabs>\n          <TabPanel value={tab} index={0}>\n            <CustomizedCard>\n              <CardContent>\n                {solutionPdf && (\n                  <Stack\n                    direction=\"row\"\n                    justifyContent=\"center\"\n                    alignItems=\"center\"\n                    p={10}\n                  >\n                    <CustomizedButtons\n                      model={\"arrowL\"}\n                      style={{ color: \"black\", marginBottom: \"10px\" }}\n                      onClick={goToPreviousPage}\n                    ></CustomizedButtons>\n                    <Document\n                      file={{ data: solutionPdf }}\n                      onLoadSuccess={onDocumentLoadSuccess}\n                    >\n                      <Page pageNumber={pageNumber} scale={scale} />\n                    </Document>\n                    <CustomizedButtons\n                      model={\"arrow\"}\n                      style={{ color: \"black\", marginBottom: \"10px\" }}\n                      onClick={goToNextPage}\n                    ></CustomizedButtons>\n                  </Stack>\n                )}\n              </CardContent>\n            </CustomizedCard>\n          </TabPanel>\n          <TabPanel value={tab} index={1}>\n            <CustomizedCard s>\n              <CardContent>\n                <>\n                  {peerReviewPdf && (\n                    <Stack direction=\"row\" justifyContent=\"center\" alignItems=\"center\" p={1} height={825}\n                    >\n                      <CustomizedButtons\n                        model={\"arrowL\"}\n                        style={{ color: \"black\", marginBottom: \"10px\" }}\n                        onClick={goToPreviousPage}\n                      ></CustomizedButtons>\n                      <Document\n                        file={{ data: peerReviewPdf }}\n                        onLoadSuccess={onDocumentLoadSuccess}\n                      >\n                        <Page pageNumber={pageNumber} scale={scale} />\n                      </Document>\n                      <CustomizedButtons\n                        model={\"arrow\"}\n                        style={{ color: \"black\", marginBottom: \"10px\" }}\n                        onClick={goToNextPage}\n                      ></CustomizedButtons>\n                    </Stack>\n                  )}\n                </>\n              </CardContent>\n            </CustomizedCard>\n          </TabPanel>\n        </div></>\n          )}\n        </>\n      </CustomizedContainer>\n    </CustomizedBody>\n  );\n}\n\nexport default AssignmentDisplay;\n"]},"metadata":{},"sourceType":"module"}